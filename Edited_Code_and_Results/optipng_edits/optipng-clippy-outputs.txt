   Compiling optipng v0.0.0 (/mnt/c/Users/sebir/Documents/Research/tidyclippy/Edited_Code_and_Results/optipng_edits)
warning: unused import: `::libc`
 --> src/minitiff/tiffwrite.rs:1:5
  |
1 | use ::libc;
  |     ^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused label
   --> src/opngreduc/opngreduc.rs:256:5
    |
256 |     'c_4762: {
    |     ^^^^^^^
    |
    = note: `#[warn(unused_labels)]` on by default

warning: unused label
   --> src/opngreduc/opngreduc.rs:288:5
    |
288 |     'c_4701: {
    |     ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:404:5
    |
404 |     'c_4166: {
    |     ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:446:9
    |
446 |         'c_4054: {
    |         ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:506:5
    |
506 |     'c_3638: {
    |     ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:613:5
    |
613 |     'c_7077: {
    |     ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:692:5
    |
692 |     'c_5512: {
    |     ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:722:5
    |
722 |     'c_5474: {
    |     ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:758:13
    |
758 |             'c_5407: {
    |             ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:813:13
    |
813 |             'c_5275: {
    |             ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:843:13
    |
843 |             'c_5238: {
    |             ^^^^^^^

warning: unused label
   --> src/opngreduc/opngreduc.rs:892:5
    |
892 |     'c_5144: {
    |     ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1166:5
     |
1166 |     'c_9088: {
     |     ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1197:9
     |
1197 |         'c_9047: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1235:9
     |
1235 |         'c_8979: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1268:9
     |
1268 |         'c_8928: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1331:5
     |
1331 |     'c_8749: {
     |     ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1579:9
     |
1579 |         'c_3322: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1619:9
     |
1619 |         'c_3254: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1652:9
     |
1652 |         'c_3187: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1841:5
     |
1841 |     'c_6417: {
     |     ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1931:25
     |
1931 |                         'c_6126: {
     |                         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:1992:25
     |
1992 |                         'c_5992: {
     |                         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2082:9
     |
2082 |         'c_5771: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2115:9
     |
2115 |         'c_5722: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2207:17
     |
2207 |                 'c_4896: {
     |                 ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2267:17
     |
2267 |                 'c_3892: {
     |                 ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2395:9
     |
2395 |         'c_7859: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2533:9
     |
2533 |         'c_8011: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2590:5
     |
2590 |     'c_7535: {
     |     ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2619:5
     |
2619 |     'c_7496: {
     |     ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2663:9
     |
2663 |         'c_7419: {
     |         ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2759:13
     |
2759 |             'c_7137: {
     |             ^^^^^^^

warning: unused label
    --> src/opngreduc/opngreduc.rs:2804:13
     |
2804 |             'c_6910: {
     |             ^^^^^^^

warning: unused import: `::libc`
 --> src/optipng/wildargs.rs:1:5
  |
1 | use ::libc;
  |     ^^^^^^

warning: unused import: `::libc`
 --> src/pngxtern/pngxio.rs:1:5
  |
1 | use ::libc;
  |     ^^^^^^

warning: unnecessary parentheses around function argument
   --> src/pnmio/pnmout.rs:151:21
    |
151 |                     (if *sample_values.offset(i as isize)
    |                     ^
...
157 |                     }),
    |                      ^
    |
    = note: `#[warn(unused_parens)]` on by default
help: remove these parentheses
    |
151 ~                     if *sample_values.offset(i as isize)
152 |                         != 0 as libc::c_int as libc::c_uint
  ...
156 |                         '1' as i32
157 ~                     },
    |

warning: unnecessary parentheses around function argument
   --> src/pnmio/pnmout.rs:184:21
    |
184 |                     (if j == 0 as libc::c_int as size_t {
    |                     ^
...
188 |                     }),
    |                      ^
    |
help: remove these parentheses
    |
184 ~                     if j == 0 as libc::c_int as size_t {
185 |                         b"%u\n\0" as *const u8 as *const libc::c_char
186 |                     } else {
187 |                         b"%u \0" as *const u8 as *const libc::c_char
188 ~                     },
    |

warning: this `if` statement can be collapsed
   --> src/gifread/gifread.rs:207:5
    |
207 | /     if (*screen).Background > 0 as libc::c_int as libc::c_uint {
208 | |         if (*screen).GlobalColorFlag != 0
209 | |             && (*screen).Background >= (*screen).GlobalNumColors
210 | |             || (*screen).GlobalColorFlag == 0
...   |
213 | |         }
214 | |     }
    | |_____^
    |
    = note: `#[warn(clippy::collapsible_if)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
207 ~     if (*screen).Background > 0 as libc::c_int as libc::c_uint && ((*screen).GlobalColorFlag != 0
208 +             && (*screen).Background >= (*screen).GlobalNumColors || (*screen).GlobalColorFlag == 0) {
209 +         (*screen).Background = 0 as libc::c_int as libc::c_uint;
210 +     }
    |

warning: operator precedence can trip the unwary
   --> src/gifread/gifread.rs:548:19
    |
548 |                 & (1 as libc::c_int) << i % 8 as libc::c_int != 0 as libc::c_int)
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_int) << (i % 8 as libc::c_int)`
    |
    = note: `#[warn(clippy::precedence)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: this `if` statement can be collapsed
   --> src/opngreduc/opngreduc.rs:202:5
    |
202 | /     if png_get_color_type(png_ptr as *const png_struct, info_ptr as *const png_info)
203 | |         as libc::c_int & 1 as libc::c_int != 0
204 | |     {
205 | |         if png_get_valid(
...   |
212 | |         }
213 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
202 ~     if png_get_color_type(png_ptr as *const png_struct, info_ptr as *const png_info)
203 +         as libc::c_int & 1 as libc::c_int != 0 && png_get_valid(
204 +             png_ptr as *const png_struct,
205 +             info_ptr as *const png_info,
206 +             0x8 as libc::c_uint,
207 +         ) == 0 {
208 +         return 0 as libc::c_int;
209 +     }
    |

warning: this `if` statement can be collapsed
   --> src/opngreduc/opngreduc.rs:973:9
    |
973 | /         if reductions & 0x1 as libc::c_int as png_uint_32 != 0 {
974 | |             if (*background).red as libc::c_int % 257 as libc::c_int != 0 as libc::c_int
975 | |                 || (*background).green as libc::c_int % 257 as libc::c_int
976 | |                     != 0 as libc::c_int
...   |
983 | |             }
984 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
973 ~         if reductions & 0x1 as libc::c_int as png_uint_32 != 0 && ((*background).red as libc::c_int % 257 as libc::c_int != 0 as libc::c_int
974 +                 || (*background).green as libc::c_int % 257 as libc::c_int
975 +                     != 0 as libc::c_int
976 +                 || (*background).blue as libc::c_int % 257 as libc::c_int
977 +                     != 0 as libc::c_int || (*background).gray as libc::c_int % 257 as libc::c_int
978 +                     != 0 as libc::c_int) {
979 +             reductions &= !(0x1 as libc::c_int) as png_uint_32;
980 +         }
    |

warning: this `if` statement can be collapsed
   --> src/opngreduc/opngreduc.rs:985:9
    |
985 | /         if reductions & 0x4 as libc::c_int as png_uint_32 != 0 {
986 | |             if (*background).red as libc::c_int != (*background).green as libc::c_int
987 | |                 || (*background).red as libc::c_int != (*background).blue as libc::c_int
988 | |             {
989 | |                 reductions &= !(0x4 as libc::c_int) as png_uint_32;
990 | |             }
991 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
985 ~         if reductions & 0x4 as libc::c_int as png_uint_32 != 0 && ((*background).red as libc::c_int != (*background).green as libc::c_int || (*background).red as libc::c_int != (*background).blue as libc::c_int) {
986 +             reductions &= !(0x4 as libc::c_int) as png_uint_32;
987 +         }
    |

warning: operator precedence can trip the unwary
    --> src/opngreduc/opngreduc.rs:1707:27
     |
1707 |         src_mask_init = (((1 as libc::c_int) << 8 as libc::c_int + src_bit_depth)
     |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_int) << (8 as libc::c_int + src_bit_depth)`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: this `if` statement can be collapsed
    --> src/opngreduc/opngreduc.rs:2565:13
     |
2565 | /             if is_gray != 0 {
2566 | |                 if (*palette.offset(k as isize)).red as libc::c_int
2567 | |                     != (*palette.offset(k as isize)).green as libc::c_int
2568 | |                     || (*palette.offset(k as isize)).red as libc::c_int
...    |
2572 | |                 }
2573 | |             }
     | |_____________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
     |
2565 ~             if is_gray != 0 && ((*palette.offset(k as isize)).red as libc::c_int
2566 +                     != (*palette.offset(k as isize)).green as libc::c_int || (*palette.offset(k as isize)).red as libc::c_int
2567 +                         != (*palette.offset(k as isize)).blue as libc::c_int) {
2568 +                 is_gray = 0 as libc::c_int;
2569 +             }
     |

warning: this `if` statement can be collapsed
    --> src/opngreduc/opngreduc.rs:2938:5
     |
2938 | /     if color_type & !(4 as libc::c_int) == 0 as libc::c_int
2939 | |         && reductions & 0x40 as libc::c_int as png_uint_32 != 0
2940 | |         || color_type & !(4 as libc::c_int) == 2 as libc::c_int
2941 | |             && reductions & 0x10 as libc::c_int as png_uint_32 != 0
...    |
2945 | |         }
2946 | |     }
     | |_____^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
     |
2938 ~     if (color_type & !(4 as libc::c_int) == 0 as libc::c_int
2939 +         && reductions & 0x40 as libc::c_int as png_uint_32 != 0 || color_type & !(4 as libc::c_int) == 2 as libc::c_int
2940 +             && reductions & 0x10 as libc::c_int as png_uint_32 != 0) && result & 0x80 as libc::c_int as png_uint_32 == 0 {
2941 +         result |= opng_reduce_to_palette(png_ptr, info_ptr, reductions);
2942 +     }
     |

warning: operator precedence can trip the unwary
   --> src/optipng/bitset.rs:174:26
    |
174 |                         ((1 as libc::c_uint) << num2 - num1 << 1 as libc::c_int)
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_uint) << (num2 - num1)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: this `if` statement can be collapsed
   --> src/optipng/ioutil.rs:363:5
    |
363 | /     if clobber == 0 {
364 | |         if access(dest_path, 0 as libc::c_int) >= 0 as libc::c_int {
365 | |             return -(1 as libc::c_int);
366 | |         }
367 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
363 ~     if clobber == 0 && access(dest_path, 0 as libc::c_int) >= 0 as libc::c_int {
364 +         return -(1 as libc::c_int);
365 +     }
    |

warning: this `if` statement can be collapsed
   --> src/optipng/ioutil.rs:469:5
    |
469 | /     if faccess == 0 as libc::c_int && freg == 0 {
470 | |         if (strchr(mode, 'e' as i32)).is_null() {
471 | |             return 0 as libc::c_int;
472 | |         }
473 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
469 ~     if faccess == 0 as libc::c_int && freg == 0 && (strchr(mode, 'e' as i32)).is_null() {
470 +         return 0 as libc::c_int;
471 +     }
    |

warning: operator precedence can trip the unwary
   --> src/optipng/optipng.rs:839:23
    |
839 |                     (((1 as libc::c_int) << 5 as libc::c_int + 1 as libc::c_int)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_int) << (5 as libc::c_int + 1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: operator precedence can trip the unwary
   --> src/optipng/optipng.rs:851:23
    |
851 |                     (((1 as libc::c_int) << 9 as libc::c_int + 1 as libc::c_int)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_int) << (9 as libc::c_int + 1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: operator precedence can trip the unwary
   --> src/optipng/optipng.rs:863:23
    |
863 |                     (((1 as libc::c_int) << 9 as libc::c_int + 1 as libc::c_int)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_int) << (9 as libc::c_int + 1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: operator precedence can trip the unwary
   --> src/optipng/optipng.rs:875:23
    |
875 |                     (((1 as libc::c_int) << 3 as libc::c_int + 1 as libc::c_int)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider parenthesizing your expression: `(1 as libc::c_int) << (3 as libc::c_int + 1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#precedence

warning: this `if` statement can be collapsed
    --> src/optipng/optipng.rs:990:5
     |
990  | /     if !(options.log_name).is_null() {
991  | |         if opng_strcasecmp(
992  | |             b".log\0" as *const u8 as *const libc::c_char,
993  | |             opng_strtail(options.log_name, 4 as libc::c_int as size_t),
...    |
1000 | |         }
1001 | |     }
     | |_____^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
     |
990  ~     if !(options.log_name).is_null() && opng_strcasecmp(
991  +             b".log\0" as *const u8 as *const libc::c_char,
992  +             opng_strtail(options.log_name, 4 as libc::c_int as size_t),
993  +         ) != 0 as libc::c_int {
994  +         error(
995  +             b"To prevent accidental data corruption, the log file name must end with \".log\"\0"
996  +                 as *const u8 as *const libc::c_char,
997  +         );
998  +     }
     |

warning: this `if` statement can be collapsed
    --> src/optipng/optipng.rs:1153:9
     |
1153 | /         if !((*argv.offset(i as isize)).is_null()
1154 | |             || *(*argv.offset(i as isize)).offset(0 as libc::c_int as isize)
1155 | |                 as libc::c_int == '\0' as i32)
1156 | |         {
...    |
1159 | |             }
1160 | |         }
     | |_________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
     |
1153 ~         if !((*argv.offset(i as isize)).is_null()
1154 +             || *(*argv.offset(i as isize)).offset(0 as libc::c_int as isize)
1155 +                 as libc::c_int == '\0' as i32) && opng_optimize(*argv.offset(i as isize)) != 0 as libc::c_int {
1156 +             result = 1 as libc::c_int;
1157 +         }
     |

warning: this `if` statement can be collapsed
   --> src/pngxtern/pngxrbmp.rs:777:5
    |
777 | /     if skip > 0 as libc::c_int as png_uint_32 {
778 | |         if fseek(stream, skip as libc::c_long, 1 as libc::c_int) != 0 as libc::c_int {
779 | |             return 0 as libc::c_int;
780 | |         }
781 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
777 ~     if skip > 0 as libc::c_int as png_uint_32 && fseek(stream, skip as libc::c_long, 1 as libc::c_int) != 0 as libc::c_int {
778 +         return 0 as libc::c_int;
779 +     }
    |

warning: this `if` statement can be collapsed
   --> src/pngxtern/pngxread.rs:372:5
    |
372 | /     if result <= 0 as libc::c_int {
373 | |         if fsetpos(stream, &mut fpos) != 0 as libc::c_int {
374 | |             png_error(
375 | |                 png_ptr as *const png_struct,
...   |
378 | |         }
379 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
372 ~     if result <= 0 as libc::c_int && fsetpos(stream, &mut fpos) != 0 as libc::c_int {
373 +         png_error(
374 +             png_ptr as *const png_struct,
375 +             b"Can't fseek in input file stream\0" as *const u8 as *const libc::c_char,
376 +         );
377 +     }
    |

warning: this `if` statement can be collapsed
   --> src/pngxtern/pngxrgif.rs:427:17
    |
427 | /                 if !(image.Rows).is_null() && graphicExt.TransparentFlag != 0 {
428 | |                     if transparent >= 256 as libc::c_int as libc::c_uint {
429 | |                         transparent = graphicExt.Transparent;
430 | |                     }
431 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
427 ~                 if !(image.Rows).is_null() && graphicExt.TransparentFlag != 0 && transparent >= 256 as libc::c_int as libc::c_uint {
428 +                     transparent = graphicExt.Transparent;
429 +                 }
    |

warning: this `if` statement can be collapsed
   --> src/pnmio/pnmout.rs:262:21
    |
262 | /                     if maxval > 0xffffff as libc::c_uint {
263 | |                         if putc(
264 | |                             (*sample_values.offset(i as isize) >> 24 as libc::c_int
265 | |                                 & 0xff as libc::c_int as libc::c_uint) as libc::c_int,
...   |
270 | |                         }
271 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
262 ~                     if maxval > 0xffffff as libc::c_uint && putc(
263 +                             (*sample_values.offset(i as isize) >> 24 as libc::c_int
264 +                                 & 0xff as libc::c_int as libc::c_uint) as libc::c_int,
265 +                             stream,
266 +                         ) == -(1 as libc::c_int) {
267 +                         break;
268 +                     }
    |

warning: unreachable statement
   --> src/pngxtern/pngxrtif.rs:231:13
    |
227 | /             png_error(
228 | |                 png_ptr as *const png_struct,
229 | |                 b"Unsupported TIFF color space\0" as *const u8 as *const libc::c_char,
230 | |             );
    | |_____________- any code following this expression is unreachable
231 |               return 0 as libc::c_int;
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ unreachable statement
    |
    = note: `#[warn(unreachable_code)]` on by default

warning: unused variable: `image`
   --> src/gifread/gifread.rs:226:46
    |
226 | pub unsafe extern "C" fn GIFDestroyImage(mut image: *mut GIFImage) {}
    |                                              ^^^^^ help: if this is intentional, prefix it with an underscore: `_image`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `status`
   --> src/optipng/optim.rs:262:13
    |
262 |     let mut status: opng_status_t = OPNG_STATUS_OK;
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_status`

warning: unnecessary `unsafe` block
   --> src/gifread/gifread.rs:920:86
    |
920 | pub static mut GIFError: Option::<unsafe extern "C" fn(*const libc::c_char) -> ()> = unsafe {
    |                                                                                      ^^^^^^ unnecessary `unsafe` block
    |
    = note: `#[warn(unused_unsafe)]` on by default

warning: unnecessary `unsafe` block
   --> src/gifread/gifread.rs:924:88
    |
924 | pub static mut GIFWarning: Option::<unsafe extern "C" fn(*const libc::c_char) -> ()> = unsafe {
    |                                                                                        ^^^^^^ unnecessary `unsafe` block

warning: module has the same name as its containing module
  --> lib.rs:16:1
   |
16 | pub mod gifread;
   | ^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(clippy::module_inception)]` on by default
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#module_inception

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:110:1
    |
110 | / pub unsafe extern "C" fn GIFReadScreen(
111 | |     mut screen: *mut GIFScreen,
112 | |     mut stream: *mut FILE,
113 | | ) {
...   |
214 | |     }
215 | | }
    | |_^
    |
    = note: `#[warn(clippy::missing_safety_doc)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: this boolean expression can be simplified
   --> src/gifread/gifread.rs:208:12
    |
208 |           if (*screen).GlobalColorFlag != 0
    |  ____________^
209 | |             && (*screen).Background >= (*screen).GlobalNumColors
210 | |             || (*screen).GlobalColorFlag == 0
    | |_____________________________________________^
    |
    = note: `#[warn(clippy::nonminimal_bool)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool
help: try
    |
208 |         if !((*screen).GlobalColorFlag != 0 && (*screen).Background < (*screen).GlobalNumColors)
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
208 |         if (*screen).GlobalColorFlag == 0 || (*screen).Background >= (*screen).GlobalNumColors
    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:217:1
    |
217 | / pub unsafe extern "C" fn GIFInitImage(
218 | |     mut image: *mut GIFImage,
219 | |     mut screen: *mut GIFScreen,
220 | |     mut rows: *mut *mut libc::c_uchar,
...   |
223 | |     (*image).Rows = rows;
224 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:226:1
    |
226 | pub unsafe extern "C" fn GIFDestroyImage(mut image: *mut GIFImage) {}
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:228:1
    |
228 | / pub unsafe extern "C" fn GIFReadNextBlock(
229 | |     mut image: *mut GIFImage,
230 | |     mut ext: *mut GIFExtension,
231 | |     mut stream: *mut FILE,
...   |
260 | |     };
261 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:263:38
    |
263 |     let mut screen: *mut GIFScreen = 0 as *mut GIFScreen;
    |                                      ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<GIFScreen>()`
    |
    = note: `#[warn(clippy::zero_ptr)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: this boolean expression can be simplified
   --> src/gifread/gifread.rs:400:12
    |
400 |         if !(val >= 0 as libc::c_int) {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `val < 0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:363:45
    |
363 |     let mut rows: *mut *mut libc::c_uchar = 0 as *mut *mut libc::c_uchar;
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:367:42
    |
367 |     let mut colors: *mut libc::c_uchar = 0 as *mut libc::c_uchar;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/gifread/gifread.rs:450:17
    |
450 |                 ypos;
    |                 ^^^^^
    |
    = note: `#[warn(clippy::no_effect)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/gifread/gifread.rs:470:5
    |
470 |     return count;
    |     ^^^^^^^^^^^^^ help: remove `return`: `count`
    |
    = note: `#[warn(clippy::needless_return)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/gifread/gifread.rs:556:5
    |
556 |     return ret;
    |     ^^^^^^^^^^^ help: remove `return`: `ret`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/gifread/gifread.rs:551:9
    |
551 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/gifread/gifread.rs:553:9
    |
553 |         j;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: this boolean expression can be simplified
   --> src/gifread/gifread.rs:607:16
    |
607 |             if !(firstcode == clear_code) {
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `firstcode != clear_code`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: this boolean expression can be simplified
   --> src/gifread/gifread.rs:619:12
    |
619 |         if !(code >= 0 as libc::c_int) {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `code < 0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: this boolean expression can be simplified
   --> src/gifread/gifread.rs:651:20
    |
651 |                 if !(count > 0 as libc::c_int) {
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `count <= 0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: unneeded `return` statement
   --> src/gifread/gifread.rs:710:5
    |
710 |     return code;
    |     ^^^^^^^^^^^^ help: remove `return`: `code`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/gifread/gifread.rs:592:13
    |
592 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/gifread/gifread.rs:598:13
    |
598 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/gifread/gifread.rs:628:17
    |
628 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/gifread/gifread.rs:634:17
    |
634 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/gifread/gifread.rs:694:13
    |
694 |             max_code;
    |             ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/gifread/gifread.rs:701:17
    |
701 |                 code_size;
    |                 ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:739:1
    |
739 | / pub unsafe extern "C" fn GIFGetColorTable(
740 | |     mut colors: *mut *mut libc::c_uchar,
741 | |     mut numColors: *mut libc::c_uint,
742 | |     mut image: *mut GIFImage,
...   |
758 | |         .wrapping_div(3 as libc::c_int as libc::c_ulong) as libc::c_uint;
759 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:744:38
    |
744 |     let mut screen: *mut GIFScreen = 0 as *mut GIFScreen;
    |                                      ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<GIFScreen>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:761:1
    |
761 | / pub unsafe extern "C" fn GIFInitExtension(
762 | |     mut ext: *mut GIFExtension,
763 | |     mut screen: *mut GIFScreen,
764 | |     mut initBufferSize: libc::c_uint,
...   |
778 | |     };
779 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:766:45
    |
766 |     let mut newBuffer: *mut libc::c_uchar = 0 as *mut libc::c_uchar;
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:776:25
    |
776 |         (*ext).Buffer = 0 as *mut libc::c_uchar;
    |                         ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:781:1
    |
781 | / pub unsafe extern "C" fn GIFDestroyExtension(mut ext: *mut GIFExtension) {
782 | |     free((*ext).Buffer as *mut libc::c_void);
783 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:788:45
    |
788 |     let mut newBuffer: *mut libc::c_uchar = 0 as *mut libc::c_uchar;
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unsafe function's docs miss `# Safety` section
   --> src/gifread/gifread.rs:826:1
    |
826 | / pub unsafe extern "C" fn GIFGetGraphicCtl(
827 | |     mut graphicExt: *mut GIFGraphicCtlExt,
828 | |     mut ext: *mut GIFExtension,
829 | | ) {
...   |
868 | |         .Transparent = *buffer.offset(3 as libc::c_int as isize) as libc::c_uint;
869 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: `0 as *mut _` detected
   --> src/gifread/gifread.rs:830:42
    |
830 |     let mut buffer: *mut libc::c_uchar = 0 as *mut libc::c_uchar;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unneeded `return` statement
   --> src/gifread/gifread.rs:876:5
    |
876 |     return ch;
    |     ^^^^^^^^^^ help: remove `return`: `ch`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:184:5
    |
184 | /     return ((*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_uint)
185 | |         << 8 as libc::c_int)
186 | |         .wrapping_add(*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_uint);
    | |__________________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
184 ~     ((*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_uint)
185 +         << 8 as libc::c_int)
186 +         .wrapping_add(*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_uint)
    |

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:189:5
    |
189 | /     return (*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_uint)
190 | |         .wrapping_add(
191 | |             (*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_uint)
192 | |                 << 8 as libc::c_int,
193 | |         );
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
189 ~     (*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_uint)
190 +         .wrapping_add(
191 +             (*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_uint)
192 +                 << 8 as libc::c_int,
193 +         )
    |

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:196:5
    |
196 | /     return ((*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_ulong)
197 | |         << 24 as libc::c_int)
198 | |         .wrapping_add(
199 | |             (*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_ulong)
...   |
205 | |         )
206 | |         .wrapping_add(*buf_ptr.offset(3 as libc::c_int as isize) as libc::c_ulong);
    | |___________________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
196 ~     ((*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_ulong)
197 +         << 24 as libc::c_int)
198 +         .wrapping_add(
199 +             (*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_ulong)
200 +                 << 16 as libc::c_int,
201 +         )
202 +         .wrapping_add(
203 +             (*buf_ptr.offset(2 as libc::c_int as isize) as libc::c_ulong)
204 +                 << 8 as libc::c_int,
205 +         )
206 +         .wrapping_add(*buf_ptr.offset(3 as libc::c_int as isize) as libc::c_ulong)
    |

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:209:5
    |
209 | /     return (*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_ulong)
210 | |         .wrapping_add(
211 | |             (*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_ulong)
212 | |                 << 8 as libc::c_int,
...   |
220 | |                 << 24 as libc::c_int,
221 | |         );
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
209 ~     (*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_ulong)
210 +         .wrapping_add(
211 +             (*buf_ptr.offset(1 as libc::c_int as isize) as libc::c_ulong)
212 +                 << 8 as libc::c_int,
213 +         )
214 +         .wrapping_add(
215 +             (*buf_ptr.offset(2 as libc::c_int as isize) as libc::c_ulong)
216 +                 << 16 as libc::c_int,
217 +         )
218 +         .wrapping_add(
219 +             (*buf_ptr.offset(3 as libc::c_int as isize) as libc::c_ulong)
220 +                 << 24 as libc::c_int,
221 +         )
    |

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:229:14
    |
229 |         1 => return *buf_ptr.offset(0 as libc::c_int as isize) as libc::c_ulong,
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `*buf_ptr.offset(0 as libc::c_int as isize) as libc::c_ulong`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:231:13
    |
231 | /             return ((*getter_ptr).get_ushort)
232 | |                 .expect("non-null function pointer")(buf_ptr) as libc::c_ulong;
    | |_______________________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
231 ~             ((*getter_ptr).get_ushort)
232 +                 .expect("non-null function pointer")(buf_ptr) as libc::c_ulong
    |

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:235:13
    |
235 |             return ((*getter_ptr).get_ulong).expect("non-null function pointer")(buf_ptr);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `((*getter_ptr).get_ulong).expect("non-null function pointer")(buf_ptr)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:237:14
    |
237 |         _ => return -(1 as libc::c_long) as libc::c_ulong,
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_long) as libc::c_ulong`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:257:5
    |
257 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/minitiff/tiffread.rs:244:42
    |
244 |     let mut result: *mut libc::c_ulong = 0 as *mut libc::c_ulong;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_ulong>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unneeded `return` statement
   --> src/minitiff/tiffread.rs:299:5
    |
299 |     return i;
    |     ^^^^^^^^^ help: remove `return`: `i`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/minitiff/tiffread.rs:297:9
    |
297 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffread.rs:317:1
    |
317 | / pub unsafe extern "C" fn minitiff_read_info(
318 | |     mut info_ptr: *mut minitiff_info,
319 | |     mut stream: *mut FILE,
320 | | ) {
...   |
752 | |     minitiff_error(info_ptr, msg_err_unsupported);
753 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: this boolean expression can be simplified
   --> src/minitiff/tiffread.rs:433:24
    |
433 |                     if !(i < dir_size) {
    |                        ^^^^^^^^^^^^^^^ help: try: `i >= dir_size`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: this boolean expression can be simplified
   --> src/minitiff/tiffread.rs:668:48
    |
668 | ...                   if !(count > 0 as libc::c_int as size_t) {
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `count <= 0 as libc::c_int as size_t`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: wildcard pattern covers any other pattern as it will match anyway
   --> src/minitiff/tiffread.rs:622:25
    |
622 |                         279 | _ => {}
    |                         ^^^^^^^
    |
    = note: `#[warn(clippy::wildcard_in_or_patterns)]` on by default
    = help: consider handling `_` separately
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_in_or_patterns

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:468:33
    |
468 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = note: `#[warn(clippy::unnecessary_mut_passed)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:485:33
    |
485 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:497:33
    |
497 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:506:37
    |
506 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:524:33
    |
524 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:536:33
    |
536 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:558:37
    |
558 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:574:33
    |
574 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:586:33
    |
586 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:598:33
    |
598 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `get_ulong_value` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:607:37
    |
607 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: statement with no effect
   --> src/minitiff/tiffread.rs:625:21
    |
625 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: the function `read_ulong_values` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:657:41
    |
657 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `read_ulong_values` doesn't need a mutable reference
   --> src/minitiff/tiffread.rs:711:49
    |
711 | ...                   &mut getter,
    |                       ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/minitiff/tiffread.rs:739:5
    |
739 | /     match current_block {
740 | |         1203735990860804153 => {
741 | |             minitiff_error(info_ptr, msg_err_read);
742 | |             current_block = 56615729744727824;
743 | |         }
744 | |         _ => {}
745 | |     }
    | |_____^
    |
    = note: `#[warn(clippy::single_match)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match
help: try this
    |
739 ~     if current_block == 1203735990860804153 {
740 +         minitiff_error(info_ptr, msg_err_read);
741 +         current_block = 56615729744727824;
742 +     }
    |

warning: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/minitiff/tiffread.rs:746:5
    |
746 | /     match current_block {
747 | |         56615729744727824 => {
748 | |             minitiff_error(info_ptr, msg_err_invalid);
749 | |         }
750 | |         _ => {}
751 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match
help: try this
    |
746 ~     if current_block == 56615729744727824 {
747 +         minitiff_error(info_ptr, msg_err_invalid);
748 +     }
    |

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffread.rs:755:1
    |
755 | / pub unsafe extern "C" fn minitiff_read_row(
756 | |     mut info_ptr: *mut minitiff_info,
757 | |     mut row_ptr: *mut libc::c_uchar,
758 | |     mut row_index: size_t,
...   |
836 | |     minitiff_error(info_ptr, msg_err_unsupported);
837 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: statement with no effect
   --> src/minitiff/tiffread.rs:810:25
    |
810 |                         i;
    |                         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/minitiff/tiffread.rs:823:5
    |
823 | /     match current_block {
824 | |         9650419894672417123 => {
825 | |             minitiff_error(info_ptr, msg_err_invalid);
826 | |             current_block = 8457169315532251007;
827 | |         }
828 | |         _ => {}
829 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match
help: try this
    |
823 ~     if current_block == 9650419894672417123 {
824 +         minitiff_error(info_ptr, msg_err_invalid);
825 +         current_block = 8457169315532251007;
826 +     }
    |

warning: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/minitiff/tiffread.rs:830:5
    |
830 | /     match current_block {
831 | |         8457169315532251007 => {
832 | |             minitiff_error(info_ptr, msg_err_range);
833 | |         }
834 | |         _ => {}
835 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match
help: try this
    |
830 ~     if current_block == 8457169315532251007 {
831 +         minitiff_error(info_ptr, msg_err_range);
832 +     }
    |

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffutil.rs:117:1
    |
117 | / pub unsafe extern "C" fn minitiff_init_info(mut info_ptr: *mut minitiff_info) {
118 | |     memset(
119 | |         info_ptr as *mut libc::c_void,
120 | |         0 as libc::c_int,
...   |
123 | |     (*info_ptr).photometric = -(1 as libc::c_int) as libc::c_uint;
124 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffutil.rs:126:1
    |
126 | / pub unsafe extern "C" fn minitiff_validate_info(mut info_ptr: *const minitiff_info) {
127 | |     if (*info_ptr).width == 0 as libc::c_int as size_t
128 | |         || (*info_ptr).height == 0 as libc::c_int as size_t
129 | |     {
...   |
169 | |     }
170 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffutil.rs:172:1
    |
172 | / pub unsafe extern "C" fn minitiff_destroy_info(mut info_ptr: *mut minitiff_info) {
173 | |     if !((*info_ptr).strip_offsets).is_null() {
174 | |         free((*info_ptr).strip_offsets as *mut libc::c_void);
175 | |     }
176 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffutil.rs:182:1
    |
182 | / pub unsafe extern "C" fn minitiff_error(
183 | |     mut info_ptr: *const minitiff_info,
184 | |     mut msg: *const libc::c_char,
185 | | ) {
...   |
191 | |     abort();
192 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/minitiff/tiffutil.rs:201:1
    |
201 | / pub unsafe extern "C" fn minitiff_warning(
202 | |     mut info_ptr: *const minitiff_info,
203 | |     mut msg: *const libc::c_char,
204 | | ) {
...   |
209 | |     };
210 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: module has the same name as its containing module
  --> lib.rs:24:1
   |
24 | pub mod opngreduc;
   | ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#module_inception

warning: unsafe function's docs miss `# Safety` section
   --> src/opngreduc/opngreduc.rs:193:1
    |
193 | / pub unsafe extern "C" fn opng_validate_image(
194 | |     mut png_ptr: png_structp,
195 | |     mut info_ptr: png_infop,
196 | | ) -> libc::c_int {
...   |
222 | |     return 1 as libc::c_int;
223 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/opngreduc/opngreduc.rs:222:5
    |
222 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/opngreduc/opngreduc.rs:476:5
    |
476 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:256:5
    |
256 | /     'c_4762: {
257 | |         if *num_palette >= 0 as libc::c_int && *num_palette <= max_tuples {} else {
258 | |             __assert_fail(
259 | |                 b"*num_palette >= 0 && *num_palette <= max_tuples\0" as *const u8
...   |
271 | |         }
272 | |     };
    | |______^
    |
    = note: `#[warn(clippy::unnecessary_operation)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
256 ~     if *num_palette >= 0 as libc::c_int && *num_palette <= max_tuples {} else {
257 +             __assert_fail(
258 +                 b"*num_palette >= 0 && *num_palette <= max_tuples\0" as *const u8
259 +                     as *const libc::c_char,
260 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
261 +                 109 as libc::c_int as libc::c_uint,
262 +                 (*::core::mem::transmute::<
263 +                     &[u8; 135],
264 +                     &[libc::c_char; 135],
265 +                 >(
266 +                     b"int opng_insert_palette_entry(png_colorp, int *, png_bytep, int *, int, unsigned int, unsigned int, unsigned int, unsigned int, int *)\0",
267 +                 ))
268 +                     .as_ptr(),
269 +             );
270 +         };
    |

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:288:5
    |
288 | /     'c_4701: {
289 | |         if *num_trans >= 0 as libc::c_int && *num_trans <= *num_palette {} else {
290 | |             __assert_fail(
291 | |                 b"*num_trans >= 0 && *num_trans <= *num_palette\0" as *const u8
...   |
303 | |         }
304 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
288 ~     if *num_trans >= 0 as libc::c_int && *num_trans <= *num_palette {} else {
289 +             __assert_fail(
290 +                 b"*num_trans >= 0 && *num_trans <= *num_palette\0" as *const u8
291 +                     as *const libc::c_char,
292 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
293 +                 110 as libc::c_int as libc::c_uint,
294 +                 (*::core::mem::transmute::<
295 +                     &[u8; 135],
296 +                     &[libc::c_char; 135],
297 +                 >(
298 +                     b"int opng_insert_palette_entry(png_colorp, int *, png_bytep, int *, int, unsigned int, unsigned int, unsigned int, unsigned int, int *)\0",
299 +                 ))
300 +                     .as_ptr(),
301 +             );
302 +         };
    |

warning: `if` chain can be rewritten with `match`
   --> src/opngreduc/opngreduc.rs:326:13
    |
326 | /             if cmp < 0 as libc::c_int {
327 | |                 high = mid - 1 as libc::c_int;
328 | |             } else if cmp > 0 as libc::c_int {
329 | |                 low = mid + 1 as libc::c_int;
...   |
332 | |                 return 0 as libc::c_int;
333 | |             }
    | |_____________^
    |
    = note: `#[warn(clippy::comparison_chain)]` on by default
    = help: consider rewriting the `if` chain to use `cmp` and `match`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#comparison_chain

warning: `if` chain can be rewritten with `match`
   --> src/opngreduc/opngreduc.rs:352:13
    |
352 | /             if cmp < 0 as libc::c_int {
353 | |                 high = mid - 1 as libc::c_int;
354 | |             } else if cmp > 0 as libc::c_int {
355 | |                 low = mid + 1 as libc::c_int;
...   |
358 | |                 return 0 as libc::c_int;
359 | |             }
    | |_____________^
    |
    = help: consider rewriting the `if` chain to use `cmp` and `match`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#comparison_chain

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:381:13
    |
381 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:404:5
    |
404 | /     'c_4166: {
405 | |         if low >= 0 as libc::c_int && low <= *num_palette {} else {
406 | |             __assert_fail(
407 | |                 b"low >= 0 && low <= *num_palette\0" as *const u8 as *const libc::c_char,
...   |
418 | |         }
419 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
404 ~     if low >= 0 as libc::c_int && low <= *num_palette {} else {
405 +             __assert_fail(
406 +                 b"low >= 0 && low <= *num_palette\0" as *const u8 as *const libc::c_char,
407 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
408 +                 179 as libc::c_int as libc::c_uint,
409 +                 (*::core::mem::transmute::<
410 +                     &[u8; 135],
411 +                     &[libc::c_char; 135],
412 +                 >(
413 +                     b"int opng_insert_palette_entry(png_colorp, int *, png_bytep, int *, int, unsigned int, unsigned int, unsigned int, unsigned int, int *)\0",
414 +                 ))
415 +                     .as_ptr(),
416 +             );
417 +         };
    |

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:424:9
    |
424 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:430:5
    |
430 |     *num_palette;
    |     ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:446:9
    |
446 | /         'c_4054: {
447 | |             if low <= *num_trans {} else {
448 | |                 __assert_fail(
449 | |                     b"low <= *num_trans\0" as *const u8 as *const libc::c_char,
...   |
460 | |             }
461 | |         };
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
446 ~         if low <= *num_trans {} else {
447 +                 __assert_fail(
448 +                     b"low <= *num_trans\0" as *const u8 as *const libc::c_char,
449 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
450 +                     188 as libc::c_int as libc::c_uint,
451 +                     (*::core::mem::transmute::<
452 +                         &[u8; 135],
453 +                         &[libc::c_char; 135],
454 +                     >(
455 +                         b"int opng_insert_palette_entry(png_colorp, int *, png_bytep, int *, int, unsigned int, unsigned int, unsigned int, unsigned int, int *)\0",
456 +                     ))
457 +                         .as_ptr(),
458 +                 );
459 +             };
    |

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:469:13
    |
469 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:473:9
    |
473 |         *num_trans;
    |         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:488:35
    |
488 |     let mut palette: png_colorp = 0 as *mut png_color;
    |                                   ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:490:37
    |
490 |     let mut buffer_ptr: png_bytep = 0 as *mut png_byte;
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:491:38
    |
491 |     let mut trans_alpha: png_bytep = 0 as *mut png_byte;
    |                                      ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:493:41
    |
493 |     let mut background: png_color_16p = 0 as *mut png_color_16;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:506:5
    |
506 | /     'c_3638: {
507 | |         if num_palette > 0 as libc::c_int {} else {
508 | |             __assert_fail(
509 | |                 b"num_palette > 0\0" as *const u8 as *const libc::c_char,
...   |
518 | |         }
519 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
506 ~     if num_palette > 0 as libc::c_int {} else {
507 +             __assert_fail(
508 +                 b"num_palette > 0\0" as *const u8 as *const libc::c_char,
509 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
510 +                 218 as libc::c_int as libc::c_uint,
511 +                 (*::core::mem::transmute::<
512 +                     &[u8; 52],
513 +                     &[libc::c_char; 52],
514 +                 >(b"void opng_realloc_PLTE(png_structp, png_infop, int)\0"))
515 +                     .as_ptr(),
516 +             );
517 +         };
    |

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:556:13
    |
556 |             0 as *mut png_color_16p,
    |             ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16p>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:599:38
    |
599 |     let mut trans_alpha: png_bytep = 0 as *mut png_byte;
    |                                      ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:613:5
    |
613 | /     'c_7077: {
614 | |         if num_trans > 0 as libc::c_int {} else {
615 | |             __assert_fail(
616 | |                 b"num_trans > 0\0" as *const u8 as *const libc::c_char,
...   |
625 | |         }
626 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
613 ~     if num_trans > 0 as libc::c_int {} else {
614 +             __assert_fail(
615 +                 b"num_trans > 0\0" as *const u8 as *const libc::c_char,
616 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
617 +                 270 as libc::c_int as libc::c_uint,
618 +                 (*::core::mem::transmute::<
619 +                     &[u8; 52],
620 +                     &[libc::c_char; 52],
621 +                 >(b"void opng_realloc_tRNS(png_structp, png_infop, int)\0"))
622 +                     .as_ptr(),
623 +             );
624 +         };
    |

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:633:9
    |
633 |         0 as *mut png_color_16p,
    |         ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16p>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:664:37
    |
664 |     let mut sample_ptr: png_bytep = 0 as *mut png_byte;
    |                                     ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:692:5
    |
692 | /     'c_5512: {
693 | |         if color_type & 1 as libc::c_int == 0 {} else {
694 | |             __assert_fail(
695 | |                 b"!(color_type & 1)\0" as *const u8 as *const libc::c_char,
...   |
706 | |         }
707 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
692 ~     if color_type & 1 as libc::c_int == 0 {} else {
693 +             __assert_fail(
694 +                 b"!(color_type & 1)\0" as *const u8 as *const libc::c_char,
695 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
696 +                 299 as libc::c_int as libc::c_uint,
697 +                 (*::core::mem::transmute::<
698 +                     &[u8; 76],
699 +                     &[libc::c_char; 76],
700 +                 >(
701 +                     b"void opng_get_alpha_row(png_row_infop, png_color_16p, png_bytep, png_bytep)\0",
702 +                 ))
703 +                     .as_ptr(),
704 +             );
705 +         };
    |

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:722:5
    |
722 | /     'c_5474: {
723 | |         if bit_depth == 8 as libc::c_int {} else {
724 | |             __assert_fail(
725 | |                 b"bit_depth == 8\0" as *const u8 as *const libc::c_char,
...   |
736 | |         }
737 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
722 ~     if bit_depth == 8 as libc::c_int {} else {
723 +             __assert_fail(
724 +                 b"bit_depth == 8\0" as *const u8 as *const libc::c_char,
725 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
726 +                 300 as libc::c_int as libc::c_uint,
727 +                 (*::core::mem::transmute::<
728 +                     &[u8; 76],
729 +                     &[libc::c_char; 76],
730 +                 >(
731 +                     b"void opng_get_alpha_row(png_row_infop, png_color_16p, png_bytep, png_bytep)\0",
732 +                 ))
733 +                     .as_ptr(),
734 +             );
735 +         };
    |

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:758:13
    |
758 | /             'c_5407: {
759 | |                 if channels == 3 as libc::c_int {} else {
760 | |                     __assert_fail(
761 | |                         b"channels == 3\0" as *const u8 as *const libc::c_char,
...   |
772 | |                 }
773 | |             };
    | |______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
758 ~             if channels == 3 as libc::c_int {} else {
759 +                     __assert_fail(
760 +                         b"channels == 3\0" as *const u8 as *const libc::c_char,
761 +                         b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
762 +                         312 as libc::c_int as libc::c_uint,
763 +                         (*::core::mem::transmute::<
764 +                             &[u8; 76],
765 +                             &[libc::c_char; 76],
766 +                         >(
767 +                             b"void opng_get_alpha_row(png_row_infop, png_color_16p, png_bytep, png_bytep)\0",
768 +                         ))
769 +                             .as_ptr(),
770 +                     );
771 +                 };
    |

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:795:17
    |
795 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:813:13
    |
813 | /             'c_5275: {
814 | |                 if color_type == 0 as libc::c_int {} else {
815 | |                     __assert_fail(
816 | |                         b"color_type == 0\0" as *const u8 as *const libc::c_char,
...   |
827 | |                 }
828 | |             };
    | |______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
813 ~             if color_type == 0 as libc::c_int {} else {
814 +                     __assert_fail(
815 +                         b"color_type == 0\0" as *const u8 as *const libc::c_char,
816 +                         b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
817 +                         325 as libc::c_int as libc::c_uint,
818 +                         (*::core::mem::transmute::<
819 +                             &[u8; 76],
820 +                             &[libc::c_char; 76],
821 +                         >(
822 +                             b"void opng_get_alpha_row(png_row_infop, png_color_16p, png_bytep, png_bytep)\0",
823 +                         ))
824 +                             .as_ptr(),
825 +                     );
826 +                 };
    |

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:843:13
    |
843 | /             'c_5238: {
844 | |                 if channels == 1 as libc::c_int {} else {
845 | |                     __assert_fail(
846 | |                         b"channels == 1\0" as *const u8 as *const libc::c_char,
...   |
857 | |                 }
858 | |             };
    | |______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
843 ~             if channels == 1 as libc::c_int {} else {
844 +                     __assert_fail(
845 +                         b"channels == 1\0" as *const u8 as *const libc::c_char,
846 +                         b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
847 +                         326 as libc::c_int as libc::c_uint,
848 +                         (*::core::mem::transmute::<
849 +                             &[u8; 76],
850 +                             &[libc::c_char; 76],
851 +                         >(
852 +                             b"void opng_get_alpha_row(png_row_infop, png_color_16p, png_bytep, png_bytep)\0",
853 +                         ))
854 +                             .as_ptr(),
855 +                     );
856 +                 };
    |

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:873:17
    |
873 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
   --> src/opngreduc/opngreduc.rs:892:5
    |
892 | /     'c_5144: {
893 | |         if channels > 1 as libc::c_int {} else {
894 | |             __assert_fail(
895 | |                 b"channels > 1\0" as *const u8 as *const libc::c_char,
...   |
906 | |         }
907 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
    |
892 ~     if channels > 1 as libc::c_int {} else {
893 +             __assert_fail(
894 +                 b"channels > 1\0" as *const u8 as *const libc::c_char,
895 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
896 +                 335 as libc::c_int as libc::c_uint,
897 +                 (*::core::mem::transmute::<
898 +                     &[u8; 76],
899 +                     &[libc::c_char; 76],
900 +                 >(
901 +                     b"void opng_get_alpha_row(png_row_infop, png_color_16p, png_bytep, png_bytep)\0",
902 +                 ))
903 +                     .as_ptr(),
904 +             );
905 +         };
    |

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:913:9
    |
913 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/opngreduc/opngreduc.rs:916:9
    |
916 |         alpha_row;
    |         ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
    --> src/opngreduc/opngreduc.rs:1107:5
     |
1107 |     return reductions;
     |     ^^^^^^^^^^^^^^^^^^ help: remove `return`: `reductions`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:924:35
    |
924 |     let mut row_ptr: png_bytepp = 0 as *mut *mut png_byte;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:925:40
    |
925 |     let mut component_ptr: png_bytep = 0 as *mut png_byte;
    |                                        ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:934:41
    |
934 |     let mut background: png_color_16p = 0 as *mut png_color_16;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:944:9
    |
944 |         0 as *mut libc::c_int,
    |         ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_int>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:945:9
    |
945 |         0 as *mut libc::c_int,
    |         ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_int>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/opngreduc/opngreduc.rs:946:9
    |
946 |         0 as *mut libc::c_int,
    |         ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_int>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1010:21
     |
1010 |                     j;
     |                     ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1032:25
     |
1032 |                         j;
     |                         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1048:25
     |
1048 |                         j;
     |                         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1078:25
     |
1078 |                         j;
     |                         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1096:25
     |
1096 |                         j;
     |                         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1103:9
     |
1103 |         i;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1105:9
     |
1105 |         row_ptr;
     |         ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
    --> src/opngreduc/opngreduc.rs:1495:5
     |
1495 |     return reductions;
     |     ^^^^^^^^^^^^^^^^^^ help: remove `return`: `reductions`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1114:35
     |
1114 |     let mut row_ptr: png_bytepp = 0 as *mut *mut png_byte;
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1115:34
     |
1115 |     let mut src_ptr: png_bytep = 0 as *mut png_byte;
     |                                  ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1116:35
     |
1116 |     let mut dest_ptr: png_bytep = 0 as *mut png_byte;
     |                                   ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1133:42
     |
1133 |     let mut trans_color: png_color_16p = 0 as *mut png_color_16;
     |                                          ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1134:41
     |
1134 |     let mut background: png_color_16p = 0 as *mut png_color_16;
     |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1135:38
     |
1135 |     let mut sig_bits: png_color_8p = 0 as *mut png_color_8;
     |                                      ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_8>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1166:5
     |
1166 | /     'c_9088: {
1167 | |         if src_bit_depth >= 8 as libc::c_int {} else {
1168 | |             __assert_fail(
1169 | |                 b"src_bit_depth >= 8\0" as *const u8 as *const libc::c_char,
...    |
1180 | |         }
1181 | |     };
     | |______^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1166 ~     if src_bit_depth >= 8 as libc::c_int {} else {
1167 +             __assert_fail(
1168 +                 b"src_bit_depth >= 8\0" as *const u8 as *const libc::c_char,
1169 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1170 +                 538 as libc::c_int as libc::c_uint,
1171 +                 (*::core::mem::transmute::<
1172 +                     &[u8; 66],
1173 +                     &[libc::c_char; 66],
1174 +                 >(
1175 +                     b"png_uint_32 opng_reduce_bits(png_structp, png_infop, png_uint_32)\0",
1176 +                 ))
1177 +                     .as_ptr(),
1178 +             );
1179 +         };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1197:9
     |
1197 | /         'c_9047: {
1198 | |             if src_bit_depth == 16 as libc::c_int {} else {
1199 | |                 __assert_fail(
1200 | |                     b"src_bit_depth == 16\0" as *const u8 as *const libc::c_char,
...    |
1211 | |             }
1212 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1197 ~         if src_bit_depth == 16 as libc::c_int {} else {
1198 +                 __assert_fail(
1199 +                     b"src_bit_depth == 16\0" as *const u8 as *const libc::c_char,
1200 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1201 +                     541 as libc::c_int as libc::c_uint,
1202 +                     (*::core::mem::transmute::<
1203 +                         &[u8; 66],
1204 +                         &[libc::c_char; 66],
1205 +                     >(
1206 +                         b"png_uint_32 opng_reduce_bits(png_structp, png_infop, png_uint_32)\0",
1207 +                     ))
1208 +                         .as_ptr(),
1209 +                 );
1210 +             };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1235:9
     |
1235 | /         'c_8979: {
1236 | |             if src_color_type & 2 as libc::c_int != 0 {} else {
1237 | |                 __assert_fail(
1238 | |                     b"src_color_type & 2\0" as *const u8 as *const libc::c_char,
...    |
1249 | |             }
1250 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1235 ~         if src_color_type & 2 as libc::c_int != 0 {} else {
1236 +                 __assert_fail(
1237 +                     b"src_color_type & 2\0" as *const u8 as *const libc::c_char,
1238 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1239 +                     553 as libc::c_int as libc::c_uint,
1240 +                     (*::core::mem::transmute::<
1241 +                         &[u8; 66],
1242 +                         &[libc::c_char; 66],
1243 +                     >(
1244 +                         b"png_uint_32 opng_reduce_bits(png_structp, png_infop, png_uint_32)\0",
1245 +                     ))
1246 +                         .as_ptr(),
1247 +                 );
1248 +             };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1268:9
     |
1268 | /         'c_8928: {
1269 | |             if src_color_type & 4 as libc::c_int != 0 {} else {
1270 | |                 __assert_fail(
1271 | |                     b"src_color_type & 4\0" as *const u8 as *const libc::c_char,
...    |
1282 | |             }
1283 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1268 ~         if src_color_type & 4 as libc::c_int != 0 {} else {
1269 +                 __assert_fail(
1270 +                     b"src_color_type & 4\0" as *const u8 as *const libc::c_char,
1271 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1272 +                     558 as libc::c_int as libc::c_uint,
1273 +                     (*::core::mem::transmute::<
1274 +                         &[u8; 66],
1275 +                         &[libc::c_char; 66],
1276 +                     >(
1277 +                         b"png_uint_32 opng_reduce_bits(png_structp, png_infop, png_uint_32)\0",
1278 +                     ))
1279 +                         .as_ptr(),
1280 +                 );
1281 +             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1306:9
     |
1306 |         k;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1331:5
     |
1331 | /     'c_8749: {
1332 | |         if src_sample_size > dest_sample_size {} else {
1333 | |             __assert_fail(
1334 | |                 b"src_sample_size > dest_sample_size\0" as *const u8
...    |
1346 | |         }
1347 | |     };
     | |______^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1331 ~     if src_sample_size > dest_sample_size {} else {
1332 +             __assert_fail(
1333 +                 b"src_sample_size > dest_sample_size\0" as *const u8
1334 +                     as *const libc::c_char,
1335 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1336 +                 583 as libc::c_int as libc::c_uint,
1337 +                 (*::core::mem::transmute::<
1338 +                     &[u8; 66],
1339 +                     &[libc::c_char; 66],
1340 +                 >(
1341 +                     b"png_uint_32 opng_reduce_bits(png_structp, png_infop, png_uint_32)\0",
1342 +                 ))
1343 +                     .as_ptr(),
1344 +             );
1345 +         };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1360:17
     |
1360 |                 k;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1365:13
     |
1365 |             j;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1368:9
     |
1368 |         i;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1370:9
     |
1370 |         row_ptr;
     |         ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1375:9
     |
1375 |         0 as *mut png_bytep,
     |         ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_bytep>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1376:9
     |
1376 |         0 as *mut libc::c_int,
     |         ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_int>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unneeded `return` statement
    --> src/opngreduc/opngreduc.rs:1762:5
     |
1762 |     return result;
     |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1503:35
     |
1503 |     let mut row_ptr: png_bytepp = 0 as *mut *mut png_byte;
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1504:41
     |
1504 |     let mut src_sample_ptr: png_bytep = 0 as *mut png_byte;
     |                                         ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1505:42
     |
1505 |     let mut dest_sample_ptr: png_bytep = 0 as *mut png_byte;
     |                                          ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1520:35
     |
1520 |     let mut palette: png_colorp = 0 as *mut png_color;
     |                                   ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1579:9
     |
1579 | /         'c_3322: {
1580 | |             if num_palette == (1 as libc::c_int) << src_bit_depth {} else {
1581 | |                 __assert_fail(
1582 | |                     b"num_palette == (1 << src_bit_depth)\0" as *const u8
...    |
1594 | |             }
1595 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1579 ~         if num_palette == (1 as libc::c_int) << src_bit_depth {} else {
1580 +                 __assert_fail(
1581 +                     b"num_palette == (1 << src_bit_depth)\0" as *const u8
1582 +                         as *const libc::c_char,
1583 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1584 +                     725 as libc::c_int as libc::c_uint,
1585 +                     (*::core::mem::transmute::<
1586 +                         &[u8; 74],
1587 +                         &[libc::c_char; 74],
1588 +                     >(
1589 +                         b"png_uint_32 opng_reduce_palette_bits(png_structp, png_infop, png_uint_32)\0",
1590 +                     ))
1591 +                         .as_ptr(),
1592 +                 );
1593 +             };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1619:9
     |
1619 | /         'c_3254: {
1620 | |             if num_palette > 0 as libc::c_int {} else {
1621 | |                 __assert_fail(
1622 | |                     b"num_palette > 0\0" as *const u8 as *const libc::c_char,
...    |
1633 | |             }
1634 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1619 ~         if num_palette > 0 as libc::c_int {} else {
1620 +                 __assert_fail(
1621 +                     b"num_palette > 0\0" as *const u8 as *const libc::c_char,
1622 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1623 +                     738 as libc::c_int as libc::c_uint,
1624 +                     (*::core::mem::transmute::<
1625 +                         &[u8; 74],
1626 +                         &[libc::c_char; 74],
1627 +                     >(
1628 +                         b"png_uint_32 opng_reduce_palette_bits(png_structp, png_infop, png_uint_32)\0",
1629 +                     ))
1630 +                         .as_ptr(),
1631 +                 );
1632 +             };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1652:9
     |
1652 | /         'c_3187: {
1653 | |             if src_bit_depth == dest_bit_depth {} else {
1654 | |                 __assert_fail(
1655 | |                     b"src_bit_depth == dest_bit_depth\0" as *const u8
...    |
1667 | |             }
1668 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1652 ~         if src_bit_depth == dest_bit_depth {} else {
1653 +                 __assert_fail(
1654 +                     b"src_bit_depth == dest_bit_depth\0" as *const u8
1655 +                         as *const libc::c_char,
1656 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1657 +                     744 as libc::c_int as libc::c_uint,
1658 +                     (*::core::mem::transmute::<
1659 +                         &[u8; 74],
1660 +                         &[libc::c_char; 74],
1661 +                     >(
1662 +                         b"png_uint_32 opng_reduce_palette_bits(png_structp, png_infop, png_uint_32)\0",
1663 +                     ))
1664 +                         .as_ptr(),
1665 +                 );
1666 +             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1694:17
     |
1694 |                 src_sample_ptr;
     |                 ^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1696:17
     |
1696 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1702:13
     |
1702 |             i;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1704:13
     |
1704 |             row_ptr;
     |             ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1736:21
     |
1736 |                     src_sample_ptr;
     |                     ^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1739:17
     |
1739 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1745:13
     |
1745 |             i;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1747:13
     |
1747 |             row_ptr;
     |             ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
    --> src/opngreduc/opngreduc.rs:2326:5
     |
2326 |     return result;
     |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1778:35
     |
1778 |     let mut row_ptr: png_bytepp = 0 as *mut *mut png_byte;
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1779:37
     |
1779 |     let mut sample_ptr: png_bytep = 0 as *mut png_byte;
     |                                     ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1780:36
     |
1780 |     let mut alpha_row: png_bytep = 0 as *mut png_byte;
     |                                    ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1796:42
     |
1796 |     let mut trans_color: png_color_16p = 0 as *mut png_color_16;
     |                                          ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1810:41
     |
1810 |     let mut background: png_color_16p = 0 as *mut png_color_16;
     |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1841:5
     |
1841 | /     'c_6417: {
1842 | |         if color_type & 1 as libc::c_int == 0 {} else {
1843 | |             __assert_fail(
1844 | |                 b"!(color_type & 1)\0" as *const u8 as *const libc::c_char,
...    |
1855 | |         }
1856 | |     };
     | |______^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1841 ~     if color_type & 1 as libc::c_int == 0 {} else {
1842 +             __assert_fail(
1843 +                 b"!(color_type & 1)\0" as *const u8 as *const libc::c_char,
1844 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
1845 +                 850 as libc::c_int as libc::c_uint,
1846 +                 (*::core::mem::transmute::<
1847 +                     &[u8; 72],
1848 +                     &[libc::c_char; 72],
1849 +                 >(
1850 +                     b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
1851 +                 ))
1852 +                     .as_ptr(),
1853 +             );
1854 +         };
     |

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1876:9
     |
1876 |         0 as *mut png_bytep,
     |         ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_bytep>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:1877:9
     |
1877 |         0 as *mut libc::c_int,
     |         ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_int>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1931:25
     |
1931 | /                         'c_6126: {
1932 | |                             if num_palette < 0 as libc::c_int {} else {
1933 | |                                 __assert_fail(
1934 | |                                     b"num_palette < 0\0" as *const u8 as *const libc::c_char,
...    |
1946 | |                             }
1947 | |                         };
     | |__________________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1931 ~                         if num_palette < 0 as libc::c_int {} else {
1932 +                                 __assert_fail(
1933 +                                     b"num_palette < 0\0" as *const u8 as *const libc::c_char,
1934 +                                     b"opngreduc/opngreduc.c\0" as *const u8
1935 +                                         as *const libc::c_char,
1936 +                                     893 as libc::c_int as libc::c_uint,
1937 +                                     (*::core::mem::transmute::<
1938 +                                         &[u8; 72],
1939 +                                         &[libc::c_char; 72],
1940 +                                     >(
1941 +                                         b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
1942 +                                     ))
1943 +                                         .as_ptr(),
1944 +                                 );
1945 +                             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:1953:17
     |
1953 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:1992:25
     |
1992 | /                         'c_5992: {
1993 | |                             if num_palette < 0 as libc::c_int {} else {
1994 | |                                 __assert_fail(
1995 | |                                     b"num_palette < 0\0" as *const u8 as *const libc::c_char,
...    |
2007 | |                             }
2008 | |                         };
     | |__________________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
1992 ~                         if num_palette < 0 as libc::c_int {} else {
1993 +                                 __assert_fail(
1994 +                                     b"num_palette < 0\0" as *const u8 as *const libc::c_char,
1995 +                                     b"opngreduc/opngreduc.c\0" as *const u8
1996 +                                         as *const libc::c_char,
1997 +                                     915 as libc::c_int as libc::c_uint,
1998 +                                     (*::core::mem::transmute::<
1999 +                                         &[u8; 72],
2000 +                                         &[libc::c_char; 72],
2001 +                                     >(
2002 +                                         b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
2003 +                                     ))
2004 +                                         .as_ptr(),
2005 +                                 );
2006 +                             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2014:17
     |
2014 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2019:9
     |
2019 |         i;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2021:9
     |
2021 |         row_ptr;
     |         ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2082:9
     |
2082 | /         'c_5771: {
2083 | |             if num_palette > 0 as libc::c_int && num_palette <= 256 as libc::c_int
2084 | |             {} else {
2085 | |                 __assert_fail(
...    |
2098 | |             }
2099 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2082 ~         if num_palette > 0 as libc::c_int && num_palette <= 256 as libc::c_int
2083 +             {} else {
2084 +                 __assert_fail(
2085 +                     b"num_palette > 0 && num_palette <= 256\0" as *const u8
2086 +                         as *const libc::c_char,
2087 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2088 +                     962 as libc::c_int as libc::c_uint,
2089 +                     (*::core::mem::transmute::<
2090 +                         &[u8; 72],
2091 +                         &[libc::c_char; 72],
2092 +                     >(
2093 +                         b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
2094 +                     ))
2095 +                         .as_ptr(),
2096 +                 );
2097 +             };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2115:9
     |
2115 | /         'c_5722: {
2116 | |             if num_trans >= 0 as libc::c_int && num_trans <= num_palette {} else {
2117 | |                 __assert_fail(
2118 | |                     b"num_trans >= 0 && num_trans <= num_palette\0" as *const u8
...    |
2130 | |             }
2131 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2115 ~         if num_trans >= 0 as libc::c_int && num_trans <= num_palette {} else {
2116 +                 __assert_fail(
2117 +                     b"num_trans >= 0 && num_trans <= num_palette\0" as *const u8
2118 +                         as *const libc::c_char,
2119 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2120 +                     963 as libc::c_int as libc::c_uint,
2121 +                     (*::core::mem::transmute::<
2122 +                         &[u8; 72],
2123 +                         &[libc::c_char; 72],
2124 +                     >(
2125 +                         b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
2126 +                     ))
2127 +                         .as_ptr(),
2128 +                 );
2129 +             };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2207:17
     |
2207 | /                 'c_4896: {
2208 | |                     if index >= 0 as libc::c_int {} else {
2209 | |                         __assert_fail(
2210 | |                             b"index >= 0\0" as *const u8 as *const libc::c_char,
...    |
2222 | |                     }
2223 | |                 };
     | |__________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2207 ~                 if index >= 0 as libc::c_int {} else {
2208 +                         __assert_fail(
2209 +                             b"index >= 0\0" as *const u8 as *const libc::c_char,
2210 +                             b"opngreduc/opngreduc.c\0" as *const u8
2211 +                                 as *const libc::c_char,
2212 +                             1014 as libc::c_int as libc::c_uint,
2213 +                             (*::core::mem::transmute::<
2214 +                                 &[u8; 72],
2215 +                                 &[libc::c_char; 72],
2216 +                             >(
2217 +                                 b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
2218 +                             ))
2219 +                                 .as_ptr(),
2220 +                         );
2221 +                     };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2226:17
     |
2226 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2267:17
     |
2267 | /                 'c_3892: {
2268 | |                     if index >= 0 as libc::c_int {} else {
2269 | |                         __assert_fail(
2270 | |                             b"index >= 0\0" as *const u8 as *const libc::c_char,
...    |
2282 | |                     }
2283 | |                 };
     | |__________________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2267 ~                 if index >= 0 as libc::c_int {} else {
2268 +                         __assert_fail(
2269 +                             b"index >= 0\0" as *const u8 as *const libc::c_char,
2270 +                             b"opngreduc/opngreduc.c\0" as *const u8
2271 +                                 as *const libc::c_char,
2272 +                             1034 as libc::c_int as libc::c_uint,
2273 +                             (*::core::mem::transmute::<
2274 +                                 &[u8; 72],
2275 +                                 &[libc::c_char; 72],
2276 +                             >(
2277 +                                 b"png_uint_32 opng_reduce_to_palette(png_structp, png_infop, png_uint_32)\0",
2278 +                             ))
2279 +                                 .as_ptr(),
2280 +                         );
2281 +                     };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2286:17
     |
2286 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2291:9
     |
2291 |         i;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2293:9
     |
2293 |         row_ptr;
     |         ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2333:35
     |
2333 |     let mut row_ptr: png_bytepp = 0 as *mut *mut png_byte;
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2334:37
     |
2334 |     let mut sample_ptr: png_bytep = 0 as *mut png_byte;
     |                                     ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2342:41
     |
2342 |     let mut background: png_color_16p = 0 as *mut png_color_16;
     |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2371:17
     |
2371 |                 j;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2373:17
     |
2373 |                 sample_ptr;
     |                 ^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2376:13
     |
2376 |             i;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2378:13
     |
2378 |             row_ptr;
     |             ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2395:9
     |
2395 | /         'c_7859: {
2396 | |             if bit_depth < 8 as libc::c_int {} else {
2397 | |                 __assert_fail(
2398 | |                     b"bit_depth < 8\0" as *const u8 as *const libc::c_char,
...    |
2409 | |             }
2410 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2395 ~         if bit_depth < 8 as libc::c_int {} else {
2396 +                 __assert_fail(
2397 +                     b"bit_depth < 8\0" as *const u8 as *const libc::c_char,
2398 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2399 +                     1096 as libc::c_int as libc::c_uint,
2400 +                     (*::core::mem::transmute::<
2401 +                         &[u8; 66],
2402 +                         &[libc::c_char; 66],
2403 +                     >(
2404 +                         b"void opng_analyze_sample_usage(png_structp, png_infop, png_bytep)\0",
2405 +                     ))
2406 +                         .as_ptr(),
2407 +                 );
2408 +             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2429:21
     |
2429 |                     j;
     |                     ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2435:17
     |
2435 |                 sample_ptr;
     |                 ^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2438:13
     |
2438 |             i;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2440:13
     |
2440 |             row_ptr;
     |             ^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: this boolean expression can be simplified
    --> src/opngreduc/opngreduc.rs:2558:12
     |
2558 |         if !(is_used[k as usize] == 0) {
     |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `is_used[k as usize] != 0`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: this boolean expression can be simplified
    --> src/opngreduc/opngreduc.rs:2695:16
     |
2695 |             if !(is_used[k as usize] == 0) {
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `is_used[k as usize] != 0`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: unneeded `return` statement
    --> src/opngreduc/opngreduc.rs:2908:5
     |
2908 |     return 0x80 as libc::c_int as png_uint_32;
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0x80 as libc::c_int as png_uint_32`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2453:35
     |
2453 |     let mut palette: png_colorp = 0 as *mut png_color;
     |                                   ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2454:38
     |
2454 |     let mut trans_alpha: png_bytep = 0 as *mut png_byte;
     |                                      ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2455:35
     |
2455 |     let mut row_ptr: png_bytepp = 0 as *mut *mut png_byte;
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2478:41
     |
2478 |     let mut background: png_color_16p = 0 as *mut png_color_16;
     |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2479:34
     |
2479 |     let mut hist: png_uint_16p = 0 as *mut png_uint_16;
     |                                  ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_uint_16>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2480:38
     |
2480 |     let mut sig_bits: png_color_8p = 0 as *mut png_color_8;
     |                                      ^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_8>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2512:9
     |
2512 |         0 as *mut png_color_16p,
     |         ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16p>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2533:9
     |
2533 | /         'c_8011: {
2534 | |             if !trans_alpha.is_null() && num_trans > 0 as libc::c_int {} else {
2535 | |                 __assert_fail(
2536 | |                     b"trans_alpha != ((void*)0) && num_trans > 0\0" as *const u8
...    |
2548 | |             }
2549 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2533 ~         if !trans_alpha.is_null() && num_trans > 0 as libc::c_int {} else {
2534 +                 __assert_fail(
2535 +                     b"trans_alpha != ((void*)0) && num_trans > 0\0" as *const u8
2536 +                         as *const libc::c_char,
2537 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2538 +                     1174 as libc::c_int as libc::c_uint,
2539 +                     (*::core::mem::transmute::<
2540 +                         &[u8; 69],
2541 +                         &[libc::c_char; 69],
2542 +                     >(
2543 +                         b"png_uint_32 opng_reduce_palette(png_structp, png_infop, png_uint_32)\0",
2544 +                     ))
2545 +                         .as_ptr(),
2546 +                 );
2547 +             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2576:9
     |
2576 |         k;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2590:5
     |
2590 | /     'c_7535: {
2591 | |         if last_color_index >= 0 as libc::c_int {} else {
2592 | |             __assert_fail(
2593 | |                 b"last_color_index >= 0\0" as *const u8 as *const libc::c_char,
...    |
2604 | |         }
2605 | |     };
     | |______^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2590 ~     if last_color_index >= 0 as libc::c_int {} else {
2591 +             __assert_fail(
2592 +                 b"last_color_index >= 0\0" as *const u8 as *const libc::c_char,
2593 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2594 +                 1192 as libc::c_int as libc::c_uint,
2595 +                 (*::core::mem::transmute::<
2596 +                     &[u8; 69],
2597 +                     &[libc::c_char; 69],
2598 +                 >(
2599 +                     b"png_uint_32 opng_reduce_palette(png_structp, png_infop, png_uint_32)\0",
2600 +                 ))
2601 +                     .as_ptr(),
2602 +             );
2603 +         };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2619:5
     |
2619 | /     'c_7496: {
2620 | |         if last_color_index >= last_trans_index {} else {
2621 | |             __assert_fail(
2622 | |                 b"last_color_index >= last_trans_index\0" as *const u8
...    |
2634 | |         }
2635 | |     };
     | |______^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2619 ~     if last_color_index >= last_trans_index {} else {
2620 +             __assert_fail(
2621 +                 b"last_color_index >= last_trans_index\0" as *const u8
2622 +                     as *const libc::c_char,
2623 +                 b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2624 +                 1193 as libc::c_int as libc::c_uint,
2625 +                 (*::core::mem::transmute::<
2626 +                     &[u8; 69],
2627 +                     &[libc::c_char; 69],
2628 +                 >(
2629 +                     b"png_uint_32 opng_reduce_palette(png_structp, png_infop, png_uint_32)\0",
2630 +                 ))
2631 +                     .as_ptr(),
2632 +             );
2633 +         };
     |

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2663:9
     |
2663 | /         'c_7419: {
2664 | |             if num_palette == last_color_index + 1 as libc::c_int {} else {
2665 | |                 __assert_fail(
2666 | |                     b"num_palette == last_color_index + 1\0" as *const u8
...    |
2678 | |             }
2679 | |         };
     | |__________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2663 ~         if num_palette == last_color_index + 1 as libc::c_int {} else {
2664 +                 __assert_fail(
2665 +                     b"num_palette == last_color_index + 1\0" as *const u8
2666 +                         as *const libc::c_char,
2667 +                     b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2668 +                     1202 as libc::c_int as libc::c_uint,
2669 +                     (*::core::mem::transmute::<
2670 +                         &[u8; 69],
2671 +                         &[libc::c_char; 69],
2672 +                     >(
2673 +                         b"png_uint_32 opng_reduce_palette(png_structp, png_infop, png_uint_32)\0",
2674 +                     ))
2675 +                         .as_ptr(),
2676 +                 );
2677 +             };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2717:13
     |
2717 |             k;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2759:13
     |
2759 | /             'c_7137: {
2760 | |                 if num_palette == last_color_index + 1 as libc::c_int {} else {
2761 | |                     __assert_fail(
2762 | |                         b"num_palette == last_color_index + 1\0" as *const u8
...    |
2774 | |                 }
2775 | |             };
     | |______________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2759 ~             if num_palette == last_color_index + 1 as libc::c_int {} else {
2760 +                     __assert_fail(
2761 +                         b"num_palette == last_color_index + 1\0" as *const u8
2762 +                             as *const libc::c_char,
2763 +                         b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2764 +                         1260 as libc::c_int as libc::c_uint,
2765 +                         (*::core::mem::transmute::<
2766 +                             &[u8; 69],
2767 +                             &[libc::c_char; 69],
2768 +                         >(
2769 +                             b"png_uint_32 opng_reduce_palette(png_structp, png_infop, png_uint_32)\0",
2770 +                         ))
2771 +                             .as_ptr(),
2772 +                     );
2773 +                 };
     |

warning: `0 as *mut _` detected
    --> src/opngreduc/opngreduc.rs:2787:17
     |
2787 |                 0 as *mut png_color_16p,
     |                 ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_color_16p>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unnecessary operation
    --> src/opngreduc/opngreduc.rs:2804:13
     |
2804 | /             'c_6910: {
2805 | |                 if num_trans == last_trans_index + 1 as libc::c_int {} else {
2806 | |                     __assert_fail(
2807 | |                         b"num_trans == last_trans_index + 1\0" as *const u8
...    |
2819 | |                 }
2820 | |             };
     | |______________^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation
help: statement can be reduced to
     |
2804 ~             if num_trans == last_trans_index + 1 as libc::c_int {} else {
2805 +                     __assert_fail(
2806 +                         b"num_trans == last_trans_index + 1\0" as *const u8
2807 +                             as *const libc::c_char,
2808 +                         b"opngreduc/opngreduc.c\0" as *const u8 as *const libc::c_char,
2809 +                         1269 as libc::c_int as libc::c_uint,
2810 +                         (*::core::mem::transmute::<
2811 +                             &[u8; 69],
2812 +                             &[libc::c_char; 69],
2813 +                         >(
2814 +                             b"png_uint_32 opng_reduce_palette(png_structp, png_infop, png_uint_32)\0",
2815 +                         ))
2816 +                             .as_ptr(),
2817 +                     );
2818 +                 };
     |

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2845:13
     |
2845 |             j;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/opngreduc/opngreduc.rs:2848:9
     |
2848 |         i;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
    --> src/opngreduc/opngreduc.rs:2911:1
     |
2911 | / pub unsafe extern "C" fn opng_reduce_image(
2912 | |     mut png_ptr: png_structp,
2913 | |     mut info_ptr: png_infop,
2914 | |     mut reductions: png_uint_32,
...    |
2947 | |     return result;
2948 | | }
     | |_^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
    --> src/opngreduc/opngreduc.rs:2947:5
     |
2947 |     return result;
     |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
  --> src/optipng/bitset.rs:11:1
   |
11 | / pub unsafe extern "C" fn opng_bitset_count(mut set: opng_bitset_t) -> libc::c_uint {
12 | |     let mut result: libc::c_uint = 0;
13 | |     result = 0 as libc::c_int as libc::c_uint;
14 | |     while set != 0 as libc::c_int as opng_bitset_t {
...  |
19 | |     return result;
20 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/optipng/bitset.rs:19:5
   |
19 |     return result;
   |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
  --> src/optipng/bitset.rs:17:9
   |
17 |         result;
   |         ^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
  --> src/optipng/bitset.rs:22:1
   |
22 | / pub unsafe extern "C" fn opng_bitset_find_first(mut set: opng_bitset_t) -> libc::c_int {
23 | |     let mut i: libc::c_int = 0;
24 | |     i = 0 as libc::c_int;
25 | |     while i <= OPNG_BITSET_ELT_MAX as libc::c_int {
...  |
32 | |     return -(1 as libc::c_int);
33 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/optipng/bitset.rs:32:5
   |
32 |     return -(1 as libc::c_int);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
  --> src/optipng/bitset.rs:30:9
   |
30 |         i;
   |         ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
  --> src/optipng/bitset.rs:35:1
   |
35 | / pub unsafe extern "C" fn opng_bitset_find_next(
36 | |     mut set: opng_bitset_t,
37 | |     mut elt: libc::c_int,
38 | | ) -> libc::c_int {
...  |
49 | |     return -(1 as libc::c_int);
50 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/optipng/bitset.rs:49:5
   |
49 |     return -(1 as libc::c_int);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
  --> src/optipng/bitset.rs:47:9
   |
47 |         i;
   |         ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
  --> src/optipng/bitset.rs:52:1
   |
52 | / pub unsafe extern "C" fn opng_bitset_find_last(mut set: opng_bitset_t) -> libc::c_int {
53 | |     let mut i: libc::c_int = 0;
54 | |     i = OPNG_BITSET_ELT_MAX as libc::c_int;
55 | |     while i >= 0 as libc::c_int {
...  |
62 | |     return -(1 as libc::c_int);
63 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/optipng/bitset.rs:62:5
   |
62 |     return -(1 as libc::c_int);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
  --> src/optipng/bitset.rs:60:9
   |
60 |         i;
   |         ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
  --> src/optipng/bitset.rs:65:1
   |
65 | / pub unsafe extern "C" fn opng_bitset_find_prev(
66 | |     mut set: opng_bitset_t,
67 | |     mut elt: libc::c_int,
68 | | ) -> libc::c_int {
...  |
82 | |     return -(1 as libc::c_int);
83 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/optipng/bitset.rs:82:5
   |
82 |     return -(1 as libc::c_int);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
  --> src/optipng/bitset.rs:80:9
   |
80 |         i;
   |         ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/bitset.rs:85:1
    |
85  | / pub unsafe extern "C" fn opng_strparse_rangeset_to_bitset(
86  | |     mut out_set: *mut opng_bitset_t,
87  | |     mut rangeset_str: *const libc::c_char,
88  | |     mut mask_set: opng_bitset_t,
...   |
214 | |     };
215 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: this boolean expression can be simplified
   --> src/optipng/bitset.rs:154:24
    |
154 |                       if !(mask_set & (1 as libc::c_uint) << num
    |  ________________________^
155 | |                         != 0 as libc::c_int as libc::c_uint)
    | |____________________________________________________________^ help: try: `mask_set & (1 as libc::c_uint) << num == 0 as libc::c_int as libc::c_uint`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: this boolean expression can be simplified
   --> src/optipng/bitset.rs:189:16
    |
189 |             if !(*ptr as libc::c_int == '-' as i32) {
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `*ptr as libc::c_int != '-' as i32`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: unneeded `return` statement
   --> src/optipng/bitset.rs:206:9
    |
206 |         return -(1 as libc::c_int);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/optipng/bitset.rs:210:9
    |
210 |         return -(1 as libc::c_int);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/optipng/bitset.rs:213:9
    |
213 |         return 0 as libc::c_int;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *const _` detected
  --> src/optipng/bitset.rs:91:40
   |
91 |     let mut ptr: *const libc::c_char = 0 as *const libc::c_char;
   |                                        ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/bitset.rs:109:13
    |
109 |             ptr;
    |             ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/bitset.rs:121:21
    |
121 |                     ptr;
    |                     ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/bitset.rs:124:21
    |
124 |                     state;
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/optipng/bitset.rs:134:9
    |
134 | /         match current_block_37 {
135 | |             4631248241652996018 => {
136 | |                 if *ptr as libc::c_int >= '0' as i32 && *ptr as libc::c_int <= '9' as i32
137 | |                 {
...   |
168 | |             _ => {}
169 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match
help: try this
    |
134 ~         if current_block_37 == 4631248241652996018 {
135 +             if *ptr as libc::c_int >= '0' as i32 && *ptr as libc::c_int <= '9' as i32
136 +             {
137 +                 num = 0 as libc::c_int;
138 +                 loop {
139 +                     num = 10 as libc::c_int * num
140 +                         + (*ptr as libc::c_int - '0' as i32);
141 +                     if num > OPNG_BITSET_ELT_MAX as libc::c_int {
142 +                         num = OPNG_BITSET_ELT_MAX as libc::c_int;
143 +                         err_range = 1 as libc::c_int;
144 +                     }
145 +                     ptr = ptr.offset(1);
146 +                     ptr;
147 +                     if !(*ptr as libc::c_int >= '0' as i32
148 +                         && *ptr as libc::c_int <= '9' as i32)
149 +                     {
150 +                         break;
151 +                     }
152 +                 }
153 +                 if !(mask_set & (1 as libc::c_uint) << num
154 +                     != 0 as libc::c_int as libc::c_uint)
155 +                 {
156 +                     err_range = 1 as libc::c_int;
157 +                 }
158 +                 if state == 0 as libc::c_int {
159 +                     num1 = num;
160 +                 }
161 +                 num2 = num;
162 +                 state += 1;
163 +                 state;
164 +                 continue;
165 +             }
166 +         }
    |

warning: statement with no effect
   --> src/optipng/bitset.rs:147:25
    |
147 |                         ptr;
    |                         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/bitset.rs:164:21
    |
164 |                     state;
    |                     ^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/bitset.rs:187:13
    |
187 |             ptr;
    |             ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/bitset.rs:198:9
    |
198 |         ptr;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:148:1
    |
148 | / pub unsafe extern "C" fn opng_ftello(mut stream: *mut FILE) -> opng_foffset_t {
149 | |     return ftell(stream);
150 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:149:5
    |
149 |     return ftell(stream);
    |     ^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `ftell(stream)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:152:1
    |
152 | / pub unsafe extern "C" fn opng_fseeko(
153 | |     mut stream: *mut FILE,
154 | |     mut offset: opng_foffset_t,
155 | |     mut whence: libc::c_int,
156 | | ) -> libc::c_int {
157 | |     return fseek(stream, offset, whence);
158 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:157:5
    |
157 |     return fseek(stream, offset, whence);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `fseek(stream, offset, whence)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:160:1
    |
160 | / pub unsafe extern "C" fn opng_freado(
161 | |     mut stream: *mut FILE,
162 | |     mut offset: opng_foffset_t,
163 | |     mut whence: libc::c_int,
...   |
186 | |     return result;
187 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:186:5
    |
186 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: the function `fsetpos` doesn't need a mutable reference
   --> src/optipng/ioutil.rs:183:24
    |
183 |     if fsetpos(stream, &mut pos) != 0 as libc::c_int {
    |                        ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:189:1
    |
189 | / pub unsafe extern "C" fn opng_fwriteo(
190 | |     mut stream: *mut FILE,
191 | |     mut offset: opng_foffset_t,
192 | |     mut whence: libc::c_int,
...   |
220 | |     return result;
221 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:220:5
    |
220 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: the function `fsetpos` doesn't need a mutable reference
   --> src/optipng/ioutil.rs:217:24
    |
217 |     if fsetpos(stream, &mut pos) != 0 as libc::c_int {
    |                        ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:223:1
    |
223 | / pub unsafe extern "C" fn opng_fgetsize(
224 | |     mut stream: *mut FILE,
225 | |     mut size: *mut opng_fsize_t,
226 | | ) -> libc::c_int {
...   |
251 | |     return 0 as libc::c_int;
252 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:251:5
    |
251 |     return 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:254:1
    |
254 | / pub unsafe extern "C" fn opng_path_replace_dir(
255 | |     mut buffer: *mut libc::c_char,
256 | |     mut bufsize: size_t,
257 | |     mut old_path: *const libc::c_char,
...   |
292 | |     return buffer;
293 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:292:5
    |
292 |     return buffer;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `buffer`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *const _` detected
   --> src/optipng/ioutil.rs:260:41
    |
260 |     let mut path: *const libc::c_char = 0 as *const libc::c_char;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *const _` detected
   --> src/optipng/ioutil.rs:261:40
    |
261 |     let mut ptr: *const libc::c_char = 0 as *const libc::c_char;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/optipng/ioutil.rs:275:16
    |
275 |         return 0 as *mut libc::c_char;
    |                ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:295:1
    |
295 | / pub unsafe extern "C" fn opng_path_replace_ext(
296 | |     mut buffer: *mut libc::c_char,
297 | |     mut bufsize: size_t,
298 | |     mut old_path: *const libc::c_char,
...   |
336 | |     };
337 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: `0 as *mut _` detected
   --> src/optipng/ioutil.rs:304:16
    |
304 |         return 0 as *mut libc::c_char;
    |                ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/optipng/ioutil.rs:310:20
    |
310 |             return 0 as *mut libc::c_char;
    |                    ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead
   --> src/optipng/ioutil.rs:312:13
    |
312 |         let ref mut fresh1 = *buffer.offset(i as isize);
    |         ----^^^^^^^^^^^^^^------------------------------ help: try: `let fresh1 = &mut (*buffer.offset(i as isize));`
    |
    = note: `#[warn(clippy::toplevel_ref_arg)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#toplevel_ref_arg

warning: statement with no effect
   --> src/optipng/ioutil.rs:318:9
    |
318 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
   --> src/optipng/ioutil.rs:325:20
    |
325 |             return 0 as *mut libc::c_char;
    |                    ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead
   --> src/optipng/ioutil.rs:327:13
    |
327 |         let ref mut fresh2 = *buffer.offset(i as isize);
    |         ----^^^^^^^^^^^^^^------------------------------ help: try: `let fresh2 = &mut (*buffer.offset(i as isize));`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#toplevel_ref_arg

warning: statement with no effect
   --> src/optipng/ioutil.rs:333:9
    |
333 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/ioutil.rs:335:9
    |
335 |         new_extname;
    |         ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:339:1
    |
339 | / pub unsafe extern "C" fn opng_path_make_backup(
340 | |     mut buffer: *mut libc::c_char,
341 | |     mut bufsize: size_t,
342 | |     mut path: *const libc::c_char,
...   |
355 | |     return buffer;
356 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:355:5
    |
355 |     return buffer;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `buffer`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/optipng/ioutil.rs:351:16
    |
351 |         return 0 as *mut libc::c_char;
    |                ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:358:1
    |
358 | / pub unsafe extern "C" fn opng_os_rename(
359 | |     mut src_path: *const libc::c_char,
360 | |     mut dest_path: *const libc::c_char,
361 | |     mut clobber: libc::c_int,
...   |
368 | |     return rename(src_path, dest_path);
369 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:368:5
    |
368 |     return rename(src_path, dest_path);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `rename(src_path, dest_path)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:371:1
    |
371 | / pub unsafe extern "C" fn opng_os_create_dir(
372 | |     mut dirname: *const libc::c_char,
373 | | ) -> libc::c_int {
374 | |     if *dirname.offset(0 as libc::c_int as isize) as libc::c_int == '\0' as i32 {
...   |
401 | |     return mkdir(dirname, 0o777 as libc::c_int as __mode_t);
402 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:401:5
    |
401 |     return mkdir(dirname, 0o777 as libc::c_int as __mode_t);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `mkdir(dirname, 0o777 as libc::c_int as __mode_t)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:404:1
    |
404 | / pub unsafe extern "C" fn opng_os_copy_file_attr(
405 | |     mut src_path: *const libc::c_char,
406 | |     mut dest_path: *const libc::c_char,
407 | | ) -> libc::c_int {
...   |
446 | |     return result;
447 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:446:5
    |
446 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unnecessary operation
   --> src/optipng/ioutil.rs:430:5
    |
430 |     chown(dest_path, sbuf.st_uid, sbuf.st_gid) != 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: statement can be reduced to: `chown(dest_path, sbuf.st_uid, sbuf.st_gid);0 as libc::c_int;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_operation

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:449:1
    |
449 | / pub unsafe extern "C" fn opng_os_test_file_access(
450 | |     mut path: *const libc::c_char,
451 | |     mut mode: *const libc::c_char,
452 | | ) -> libc::c_int {
...   |
503 | |     return access(path, faccess);
504 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:503:5
    |
503 |     return access(path, faccess);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `access(path, faccess)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:506:1
    |
506 | / pub unsafe extern "C" fn opng_os_test_file_equiv(
507 | |     mut path1: *const libc::c_char,
508 | |     mut path2: *const libc::c_char,
509 | | ) -> libc::c_int {
...   |
557 | |     };
558 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:550:9
    |
550 | /         return if sbuf1.st_ino != 0 as libc::c_int as __ino_t {
551 | |             1 as libc::c_int
552 | |         } else {
553 | |             -(1 as libc::c_int)
554 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
550 ~         if sbuf1.st_ino != 0 as libc::c_int as __ino_t {
551 +             1 as libc::c_int
552 +         } else {
553 +             -(1 as libc::c_int)
554 +         }
    |

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:556:9
    |
556 |         return 0 as libc::c_int
    |         ^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ioutil.rs:560:1
    |
560 | / pub unsafe extern "C" fn opng_os_unlink(mut path: *const libc::c_char) -> libc::c_int {
561 | |     return unlink(path);
562 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ioutil.rs:561:5
    |
561 |     return unlink(path);
    |     ^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `unlink(path)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/optim.rs:230:1
    |
230 | / pub unsafe extern "C" fn opng_initialize(
231 | |     mut init_options: *const opng_options,
232 | |     mut init_ui: *const opng_ui,
233 | | ) -> libc::c_int {
...   |
256 | |     return 0 as libc::c_int;
257 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/optim.rs:256:5
    |
256 |     return 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/optim.rs:259:1
    |
259 | / pub unsafe extern "C" fn opng_optimize(
260 | |     mut infile_name: *const libc::c_char,
261 | | ) -> libc::c_int {
262 | |     let mut status: opng_status_t = OPNG_STATUS_OK;
...   |
283 | |     return result;
284 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/optim.rs:283:5
    |
283 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/optipng/optim.rs:277:5
    |
277 |     s_summary.file_count;
    |     ^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/optim.rs:286:1
    |
286 | / pub unsafe extern "C" fn opng_finalize() -> libc::c_int {
287 | |     if s_options.verbose != 0 || s_summary.snip_count > 0 as libc::c_int as libc::c_uint
288 | |         || s_summary.err_count > 0 as libc::c_int as libc::c_uint
289 | |     {
...   |
333 | |     return 0 as libc::c_int;
334 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/optim.rs:333:5
    |
333 |     return 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: module has the same name as its containing module
  --> lib.rs:30:1
   |
30 | pub mod optipng;
   | ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#module_inception

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:285:5
    |
285 |     return str as *mut libc::c_char;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `str as *mut libc::c_char`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/optipng/optipng.rs:283:9
    |
283 |         str;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:296:5
    |
296 |     return (str as *mut libc::c_char).offset(len as isize).offset(-(num as isize));
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `(str as *mut libc::c_char).offset(len as isize).offset(-(num as isize))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/optipng/optipng.rs:303:20
    |
303 |             return 0 as *mut libc::c_char;
    |                    ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/optipng.rs:311:9
    |
311 |         str;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:372:5
    |
372 |     return 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:319:46
    |
319 |     let mut begin_ptr: *const libc::c_char = 0 as *const libc::c_char;
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/optipng/optipng.rs:320:42
    |
320 |     let mut end_ptr: *mut libc::c_char = 0 as *mut libc::c_char;
    |                                          ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/optipng.rs:337:13
    |
337 |             end_ptr;
    |             ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/optipng.rs:341:13
    |
341 |             end_ptr;
    |             ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/optipng.rs:345:13
    |
345 |             end_ptr;
    |             ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:404:5
    |
404 |     return value as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `value as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:437:5
    |
437 |     return -(1 as libc::c_int);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/optipng/optipng.rs:433:13
    |
433 |             result;
    |             ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:456:5
    |
456 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/optipng/optipng.rs:477:9
    |
477 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: this boolean expression can be simplified
   --> src/optipng/optipng.rs:539:16
    |
539 |             if !(*ptr as libc::c_int == '=' as i32) {
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `*ptr as libc::c_int != '=' as i32`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: unneeded `return` statement
   --> src/optipng/optipng.rs:558:5
    |
558 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:496:40
    |
496 |     let mut ptr: *const libc::c_char = 0 as *const libc::c_char;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/optipng.rs:507:9
    |
507 |         ptr;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/optipng.rs:511:9
    |
511 |         ptr;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/optipng.rs:519:9
    |
519 |         opt_len;
    |         ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/optipng.rs:521:9
    |
521 |         ptr;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/optipng.rs:530:17
    |
530 |                 ptr;
    |                 ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:535:17
    |
535 |                 0 as *const libc::c_char
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/optipng.rs:543:13
    |
543 |             ptr;
    |             ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
   --> src/optipng/optipng.rs:564:38
    |
564 |     let mut arg: *mut libc::c_char = 0 as *mut libc::c_char;
    |                                      ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:567:41
    |
567 |     let mut xopt: *const libc::c_char = 0 as *const libc::c_char;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/optipng.rs:595:13
    |
595 |             file_count;
    |             ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead
   --> src/optipng/optipng.rs:598:17
    |
598 |             let ref mut fresh2 = *argv.offset(i as isize);
    |             ----^^^^^^^^^^^^^^---------------------------- help: try: `let fresh2 = &mut (*argv.offset(i as isize));`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#toplevel_ref_arg

warning: `0 as *mut _` detected
   --> src/optipng/optipng.rs:599:23
    |
599 |             *fresh2 = 0 as *mut libc::c_char;
    |                       ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead
   --> src/optipng/optipng.rs:778:29
    |
778 |                         let ref mut fresh3 = *argv.offset(i as isize);
    |                         ----^^^^^^^^^^^^^^---------------------------- help: try: `let fresh3 = &mut (*argv.offset(i as isize));`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#toplevel_ref_arg

warning: `0 as *mut _` detected
   --> src/optipng/optipng.rs:779:35
    |
779 |                         *fresh3 = 0 as *mut libc::c_char;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:922:25
    |
922 |                         0 as *const libc::c_char,
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:942:25
    |
942 |                         0 as *const libc::c_char,
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *const _` detected
   --> src/optipng/optipng.rs:962:25
    |
962 |                         0 as *const libc::c_char,
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/optipng/optipng.rs:974:9
    |
974 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *const _` detected
    --> src/optipng/optipng.rs:1035:44
     |
1035 |     let mut con_str: *const libc::c_char = 0 as *const libc::c_char;
     |                                            ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *const _` detected
    --> src/optipng/optipng.rs:1036:44
     |
1036 |     let mut log_str: *const libc::c_char = 0 as *const libc::c_char;
     |                                            ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
    --> src/optipng/optipng.rs:1059:17
     |
1059 |                 i;
     |                 ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
    --> src/optipng/optipng.rs:1083:9
     |
1083 |         return;
     |         ^^^^^^^ help: remove `return`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
    --> src/optipng/optipng.rs:1095:20
     |
1095 |         con_file = 0 as *mut FILE;
     |                    ^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<FILE>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
    --> src/optipng/optipng.rs:1107:13
     |
1107 |             0 as *mut libc::c_char,
     |             ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_char>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unneeded `return` statement
    --> src/optipng/optipng.rs:1169:5
     |
1169 |     return result;
     |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: the function `opng_initialize` doesn't need a mutable reference
    --> src/optipng/optipng.rs:1145:24
     |
1145 |     if opng_initialize(&mut options, &mut ui) != 0 as libc::c_int {
     |                        ^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: the function `opng_initialize` doesn't need a mutable reference
    --> src/optipng/optipng.rs:1145:38
     |
1145 |     if opng_initialize(&mut options, &mut ui) != 0 as libc::c_int {
     |                                      ^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: statement with no effect
    --> src/optipng/optipng.rs:1162:9
     |
1162 |         i;
     |         ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
    --> src/optipng/optipng.rs:1218:5
     |
1218 |     return result;
     |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *const _` detected
    --> src/optipng/optipng.rs:1209:36
     |
1209 |                 png_get_libpng_ver(0 as *const png_struct),
     |                                    ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<png_struct>()`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unneeded `return` statement
  --> src/optipng/ratio.rs:54:5
   |
54 |     return result;
   |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/optipng/ratio.rs:134:5
    |
134 | /     return opng_snprintf_impl(
135 | |         buffer,
136 | |         buffer_size,
137 | |         b"%llux\0" as *const u8 as *const libc::c_char,
138 | |         integer_part,
139 | |     );
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
134 ~     opng_snprintf_impl(
135 +         buffer,
136 +         buffer_size,
137 +         b"%llux\0" as *const u8 as *const libc::c_char,
138 +         integer_part,
139 +     )
    |

warning: statement with no effect
   --> src/optipng/ratio.rs:106:9
    |
106 |         integer_part;
    |         ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/optipng/ratio.rs:132:9
    |
132 |         integer_part;
    |         ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ratio.rs:142:1
    |
142 | / pub unsafe extern "C" fn opng_ulratio_to_factor_string(
143 | |     mut buffer: *mut libc::c_char,
144 | |     mut buffer_size: size_t,
145 | |     mut ratio: *const opng_ulratio,
...   |
149 | |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 0 as libc::c_int);
150 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ratio.rs:149:5
    |
149 |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 0 as libc::c_int);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 0 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ratio.rs:152:1
    |
152 | / pub unsafe extern "C" fn opng_ulratio_to_percent_string(
153 | |     mut buffer: *mut libc::c_char,
154 | |     mut buffer_size: size_t,
155 | |     mut ratio: *const opng_ulratio,
...   |
159 | |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 1 as libc::c_int);
160 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ratio.rs:159:5
    |
159 |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 1 as libc::c_int);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ratio.rs:162:1
    |
162 | / pub unsafe extern "C" fn opng_ullratio_to_factor_string(
163 | |     mut buffer: *mut libc::c_char,
164 | |     mut buffer_size: size_t,
165 | |     mut ratio: *const opng_ullratio,
...   |
169 | |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 0 as libc::c_int);
170 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ratio.rs:169:5
    |
169 |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 0 as libc::c_int);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 0 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/optipng/ratio.rs:172:1
    |
172 | / pub unsafe extern "C" fn opng_ullratio_to_percent_string(
173 | |     mut buffer: *mut libc::c_char,
174 | |     mut buffer_size: size_t,
175 | |     mut ratio: *const opng_ullratio,
...   |
179 | |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 1 as libc::c_int);
180 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/optipng/ratio.rs:179:5
    |
179 |     return opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 1 as libc::c_int);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `opng_sprint_uratio_impl(buffer, buffer_size, num, denom, 1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
  --> src/pngxtern/pngxmem.rs:50:1
   |
50 | / pub unsafe extern "C" fn pngx_malloc_rows(
51 | |     mut png_ptr: png_structp,
52 | |     mut info_ptr: png_infop,
53 | |     mut filler: libc::c_int,
...  |
60 | |     );
61 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/pngxtern/pngxmem.rs:55:5
   |
55 | /     return pngx_malloc_rows_extended(
56 | |         png_ptr,
57 | |         info_ptr,
58 | |         0 as libc::c_int as pngx_alloc_size_t,
59 | |         filler,
60 | |     );
   | |______^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
   |
55 ~     pngx_malloc_rows_extended(
56 +         png_ptr,
57 +         info_ptr,
58 +         0 as libc::c_int as pngx_alloc_size_t,
59 +         filler,
60 +     )
   |

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxmem.rs:63:1
    |
63  | / pub unsafe extern "C" fn pngx_malloc_rows_extended(
64  | |     mut png_ptr: png_structp,
65  | |     mut info_ptr: png_infop,
66  | |     mut min_row_size: pngx_alloc_size_t,
...   |
139 | |     return rows;
140 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxmem.rs:139:5
    |
139 |     return rows;
    |     ^^^^^^^^^^^^ help: remove `return`: `rows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
  --> src/pngxtern/pngxmem.rs:70:30
   |
70 |     let mut row: png_bytep = 0 as *mut png_byte;
   |                              ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
  --> src/pngxtern/pngxmem.rs:71:32
   |
71 |     let mut rows: png_bytepp = 0 as *mut *mut png_byte;
   |                                ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `ref` on an entire `let` pattern is discouraged, take a reference with `&` instead
   --> src/pngxtern/pngxmem.rs:133:13
    |
133 |         let ref mut fresh0 = *rows.offset(i as isize);
    |         ----^^^^^^^^^^^^^^---------------------------- help: try: `let fresh0 = &mut (*rows.offset(i as isize));`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#toplevel_ref_arg

warning: statement with no effect
   --> src/pngxtern/pngxmem.rs:136:9
    |
136 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/pngxtern/pngxrbmp.rs:146:5
    |
146 | /     return (*ptr.offset(0 as libc::c_int as isize) as libc::c_uint)
147 | |         .wrapping_add(
148 | |             (*ptr.offset(1 as libc::c_int as isize) as libc::c_uint) << 8 as libc::c_int,
149 | |         );
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
146 ~     (*ptr.offset(0 as libc::c_int as isize) as libc::c_uint)
147 +         .wrapping_add(
148 +             (*ptr.offset(1 as libc::c_int as isize) as libc::c_uint) << 8 as libc::c_int,
149 +         )
    |

warning: unneeded `return` statement
   --> src/pngxtern/pngxrbmp.rs:152:5
    |
152 | /     return (*ptr.offset(0 as libc::c_int as isize) as png_uint_32)
153 | |         .wrapping_add(
154 | |             (*ptr.offset(1 as libc::c_int as isize) as png_uint_32) << 8 as libc::c_int,
155 | |         )
...   |
160 | |             (*ptr.offset(3 as libc::c_int as isize) as png_uint_32) << 24 as libc::c_int,
161 | |         );
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
152 ~     (*ptr.offset(0 as libc::c_int as isize) as png_uint_32)
153 +         .wrapping_add(
154 +             (*ptr.offset(1 as libc::c_int as isize) as png_uint_32) << 8 as libc::c_int,
155 +         )
156 +         .wrapping_add(
157 +             (*ptr.offset(2 as libc::c_int as isize) as png_uint_32) << 16 as libc::c_int,
158 +         )
159 +         .wrapping_add(
160 +             (*ptr.offset(3 as libc::c_int as isize) as png_uint_32) << 24 as libc::c_int,
161 +         )
    |

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:187:9
    |
187 |         ptr;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:189:9
    |
189 |         len;
    |         ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/pngxtern/pngxrbmp.rs:215:5
    |
215 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/pngxtern/pngxrbmp.rs:255:5
    |
255 |     return if result <= len { result } else { len };
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `if result <= len { result } else { len }`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:239:13
    |
239 |             ptr;
    |             ^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:270:9
    |
270 |         *shift_bit;
    |         ^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:281:9
    |
281 |         *sig_bit;
    |         ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: this boolean expression can be simplified
   --> src/pngxtern/pngxrbmp.rs:383:24
    |
383 |                     if !(crt_row == end_row) {
    |                        ^^^^^^^^^^^^^^^^^^^^^ help: try: `crt_row != end_row`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#nonminimal_bool

warning: unneeded `return` statement
   --> src/pngxtern/pngxrbmp.rs:485:5
    |
485 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:292:35
    |
292 |     let mut crt_row: png_bytepp = 0 as *mut *mut png_byte;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:350:13
    |
350 |             result;
    |             ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:382:21
    |
382 |                     result;
    |                     ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:428:25
    |
428 |                         result;
    |                         ^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:433:25
    |
433 |                         b2;
    |                         ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:495:34
    |
495 |     let mut src_ptr: png_bytep = 0 as *mut png_byte;
    |                                  ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:496:35
    |
496 |     let mut dest_ptr: png_bytep = 0 as *mut png_byte;
    |                                   ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:519:17
    |
519 |                 x;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:523:13
    |
523 |             y;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:541:9
    |
541 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:579:21
    |
579 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:582:17
    |
582 |                 x;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:587:13
    |
587 |             y;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:624:21
    |
624 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:627:17
    |
627 |                 x;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:632:13
    |
632 |             y;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrbmp.rs:637:1
    |
637 | / pub unsafe extern "C" fn pngx_sig_is_bmp(
638 | |     mut sig: png_bytep,
639 | |     mut sig_size: size_t,
640 | |     mut fmt_name_ptr: png_const_charpp,
...   |
676 | |     return 1 as libc::c_int;
677 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrbmp.rs:676:5
    |
676 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
    --> src/pngxtern/pngxrbmp.rs:679:1
     |
679  | / pub unsafe extern "C" fn pngx_read_bmp(
680  | |     mut png_ptr: png_structp,
681  | |     mut info_ptr: png_infop,
682  | |     mut stream: *mut FILE,
...    |
1106 | |     return 1 as libc::c_int;
1107 | | }
     | |_^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
    --> src/pngxtern/pngxrbmp.rs:1106:5
     |
1106 |     return 1 as libc::c_int;
     |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:715:40
    |
715 |     let mut row_pointers: png_bytepp = 0 as *mut *mut png_byte;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:716:37
    |
716 |     let mut begin_row: png_bytepp = 0 as *mut *mut png_byte;
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:717:35
    |
717 |     let mut end_row: png_bytepp = 0 as *mut *mut png_byte;
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:730:13
    |
730 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:744:13
    |
744 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrbmp.rs:750:9
    |
750 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrbmp.rs:907:63
    |
907 |             png_read_png(png_ptr, info_ptr, 0 as libc::c_int, 0 as *mut libc::c_void);
    |                                                               ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_void>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
    --> src/pngxtern/pngxrbmp.rs:1011:13
     |
1011 |             i;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
    --> src/pngxtern/pngxrbmp.rs:1055:13
     |
1055 |             i;
     |             ^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unneeded `return` statement
   --> src/pngxtern/pngxread.rs:278:5
    |
278 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxread.rs:281:1
    |
281 | / pub unsafe extern "C" fn pngx_read_image(
282 | |     mut png_ptr: png_structp,
283 | |     mut info_ptr: png_infop,
284 | |     mut fmt_name_ptr: png_const_charpp,
...   |
380 | |     return result;
381 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxread.rs:380:5
    |
380 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxread.rs:292:33
    |
292 |     let mut stream: *mut FILE = 0 as *mut FILE;
    |                                 ^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<FILE>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: the function `fsetpos` doesn't need a mutable reference
   --> src/pngxtern/pngxread.rs:314:24
    |
314 |     if fsetpos(stream, &mut fpos) != 0 as libc::c_int {
    |                        ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxread.rs:323:59
    |
323 |         png_read_png(png_ptr, info_ptr, 0 as libc::c_int, 0 as *mut libc::c_void);
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_void>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: the function `fsetpos` doesn't need a mutable reference
   --> src/pngxtern/pngxread.rs:373:28
    |
373 |         if fsetpos(stream, &mut fpos) != 0 as libc::c_int {
    |                            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrgif.rs:220:1
    |
220 | / pub unsafe extern "C" fn pngx_sig_is_gif(
221 | |     mut sig: png_bytep,
222 | |     mut sig_size: size_t,
223 | |     mut fmt_name_ptr: png_const_charpp,
...   |
248 | |     return 1 as libc::c_int;
249 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrgif.rs:248:5
    |
248 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/pngxtern/pngxrgif.rs:298:9
    |
298 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrgif.rs:318:9
    |
318 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrgif.rs:330:1
    |
330 | / pub unsafe extern "C" fn pngx_read_gif(
331 | |     mut png_ptr: png_structp,
332 | |     mut info_ptr: png_infop,
333 | |     mut stream: *mut FILE,
...   |
445 | |     return numImages as libc::c_int;
446 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrgif.rs:445:5
    |
445 |     return numImages as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `numImages as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:347:17
    |
347 |         Screen: 0 as *mut GIFScreen,
    |                 ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<GIFScreen>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:357:15
    |
357 |         Rows: 0 as *mut *mut libc::c_uchar,
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:360:17
    |
360 |         Screen: 0 as *mut GIFScreen,
    |                 ^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<GIFScreen>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:361:17
    |
361 |         Buffer: 0 as *mut libc::c_uchar,
    |                 ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:373:46
    |
373 |     let mut colorTable: *mut libc::c_uchar = 0 as *mut libc::c_uchar;
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:379:40
    |
379 |     let mut row_pointers: png_bytepp = 0 as *mut *mut png_byte;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:385:25
    |
385 |     err_gif_image_ptr = 0 as *mut GIFImage;
    |                         ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<GIFImage>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:386:23
    |
386 |     err_gif_ext_ptr = 0 as *mut GIFExtension;
    |                       ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<GIFExtension>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrgif.rs:420:30
    |
420 |                 image.Rows = 0 as *mut *mut libc::c_uchar;
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut libc::c_uchar>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: statement with no effect
   --> src/pngxtern/pngxrgif.rs:423:13
    |
423 |             numImages;
    |             ^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrjpg.rs:109:1
    |
109 | / pub unsafe extern "C" fn pngx_sig_is_jpeg(
110 | |     mut sig: png_bytep,
111 | |     mut sig_size: size_t,
112 | |     mut fmt_name_ptr: png_const_charpp,
...   |
170 | |     return result;
171 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrjpg.rs:170:5
    |
170 |     return result;
    |     ^^^^^^^^^^^^^^ help: remove `return`: `result`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *const _` detected
   --> src/pngxtern/pngxrjpg.rs:115:40
    |
115 |     let mut fmt: *const libc::c_char = 0 as *const libc::c_char;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null::<libc::c_char>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrjpg.rs:173:1
    |
173 | / pub unsafe extern "C" fn pngx_read_jpeg(
174 | |     mut png_ptr: png_structp,
175 | |     mut info_ptr: png_infop,
176 | |     mut stream: *mut FILE,
...   |
221 | |     return 0 as libc::c_int;
222 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrjpg.rs:221:5
    |
221 |     return 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrpnm.rs:160:1
    |
160 | / pub unsafe extern "C" fn pngx_sig_is_pnm(
161 | |     mut sig: png_bytep,
162 | |     mut sig_size: size_t,
163 | |     mut fmt_name_ptr: png_const_charpp,
...   |
213 | |     return 1 as libc::c_int;
214 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrpnm.rs:213:5
    |
213 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/pngxtern/pngxrpnm.rs:251:5
    |
251 |     return 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrpnm.rs:254:1
    |
254 | / pub unsafe extern "C" fn pngx_read_pnm(
255 | |     mut png_ptr: png_structp,
256 | |     mut info_ptr: png_infop,
257 | |     mut stream: *mut FILE,
...   |
518 | |     return 1 as libc::c_int;
519 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrpnm.rs:518:5
    |
518 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrpnm.rs:274:41
    |
274 |     let mut pnmrow: *mut libc::c_uint = 0 as *mut libc::c_uint;
    |                                         ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uint>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrpnm.rs:276:40
    |
276 |     let mut row_pointers: png_bytepp = 0 as *mut *mut png_byte;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: manual implementation of an assign operation
   --> src/pngxtern/pngxrpnm.rs:337:9
    |
337 |         row_size = row_size * 2 as libc::c_int as size_t;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `row_size *= 2 as libc::c_int as size_t`
    |
    = note: `#[warn(clippy::assign_op_pattern)]` on by default
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assign_op_pattern

warning: statement with no effect
   --> src/pngxtern/pngxrpnm.rs:362:9
    |
362 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrpnm.rs:393:18
    |
393 |         pnmrow = 0 as *mut libc::c_uint;
    |                  ^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_uint>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: the function `pnm_fget_values` doesn't need a mutable reference
   --> src/pngxtern/pngxrpnm.rs:407:17
    |
407 |                 &mut pnminfo,
    |                 ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: statement with no effect
   --> src/pngxtern/pngxrpnm.rs:433:21
    |
433 |                     j;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrpnm.rs:460:21
    |
460 |                     j;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrpnm.rs:467:13
    |
467 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: the function `pnm_fget_bytes` doesn't need a mutable reference
   --> src/pngxtern/pngxrpnm.rs:473:17
    |
473 |                 &mut pnminfo,
    |                 ^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: statement with no effect
   --> src/pngxtern/pngxrpnm.rs:484:17
    |
484 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrpnm.rs:495:9
    |
495 |         i;
    |         ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrtif.rs:122:1
    |
122 | / pub unsafe extern "C" fn pngx_sig_is_tiff(
123 | |     mut sig: png_bytep,
124 | |     mut sig_size: size_t,
125 | |     mut fmt_name_ptr: png_const_charpp,
...   |
150 | |     return 1 as libc::c_int;
151 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrtif.rs:150:5
    |
150 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:160:9
    |
160 |         num_extra_images;
    |         ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxrtif.rs:164:1
    |
164 | / pub unsafe extern "C" fn pngx_read_tiff(
165 | |     mut png_ptr: png_structp,
166 | |     mut info_ptr: png_infop,
167 | |     mut stream: *mut FILE,
...   |
368 | |         as libc::c_int;
369 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pngxtern/pngxrtif.rs:367:5
    |
367 | /     return (1 as libc::c_int as libc::c_uint).wrapping_add(num_extra_images)
368 | |         as libc::c_int;
    | |_______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
367 ~     (1 as libc::c_int as libc::c_uint).wrapping_add(num_extra_images)
368 +         as libc::c_int
    |

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrtif.rs:179:24
    |
179 |         strip_offsets: 0 as *mut libc::c_ulong,
    |                        ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<libc::c_ulong>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrtif.rs:191:40
    |
191 |     let mut row_pointers: png_bytepp = 0 as *mut *mut png_byte;
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<*mut png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: `0 as *mut _` detected
   --> src/pngxtern/pngxrtif.rs:192:30
    |
192 |     let mut row: png_bytep = 0 as *mut png_byte;
    |                              ^^^^^^^^^^^^^^^^^^ help: try: `std::ptr::null_mut::<png_byte>()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#zero_ptr

warning: the function `minitiff_validate_info` doesn't need a mutable reference
   --> src/pngxtern/pngxrtif.rs:208:28
    |
208 |     minitiff_validate_info(&mut tiff_info);
    |                            ^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_mut_passed

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:282:21
    |
282 |                     j;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:294:21
    |
294 |                     j;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:298:13
    |
298 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:322:21
    |
322 |                     j;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:352:21
    |
352 |                     j;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pngxtern/pngxrtif.rs:357:13
    |
357 |             i;
    |             ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
  --> src/pngxtern/pngxset.rs:37:1
   |
37 | / pub unsafe extern "C" fn pngx_set_compression_type(
38 | |     mut png_ptr: png_structp,
39 | |     mut info_ptr: png_infop,
40 | |     mut compression_type: libc::c_int,
...  |
76 | |     );
77 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxset.rs:79:1
    |
79  | / pub unsafe extern "C" fn pngx_set_filter_type(
80  | |     mut png_ptr: png_structp,
81  | |     mut info_ptr: png_infop,
82  | |     mut filter_type: libc::c_int,
...   |
118 | |     );
119 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unsafe function's docs miss `# Safety` section
   --> src/pngxtern/pngxset.rs:121:1
    |
121 | / pub unsafe extern "C" fn pngx_set_interlace_type(
122 | |     mut png_ptr: png_structp,
123 | |     mut info_ptr: png_infop,
124 | |     mut interlace_type: libc::c_int,
...   |
160 | |     );
161 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/pnmio/pnmin.rs:94:5
   |
94 |     return ch;
   |     ^^^^^^^^^^ help: remove `return`: `ch`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
   --> src/pnmio/pnmin.rs:139:5
    |
139 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmin.rs:142:1
    |
142 | / pub unsafe extern "C" fn pnm_fget_header(
143 | |     mut pnm_ptr: *mut pnm_struct,
144 | |     mut stream: *mut FILE,
145 | | ) -> libc::c_int {
...   |
201 | |     };
202 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmin.rs:194:9
    |
194 | /         return if pnm_is_valid(pnm_ptr) != 0 {
195 | |             1 as libc::c_int
196 | |         } else {
197 | |             0 as libc::c_int
198 | |         };
    | |__________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
194 ~         if pnm_is_valid(pnm_ptr) != 0 {
195 +             1 as libc::c_int
196 +         } else {
197 +             0 as libc::c_int
198 +         }
    |

warning: unneeded `return` statement
   --> src/pnmio/pnmin.rs:200:9
    |
200 |         return -(1 as libc::c_int)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `-(1 as libc::c_int)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmin.rs:204:1
    |
204 | / pub unsafe extern "C" fn pnm_fget_values(
205 | |     mut pnm_ptr: *const pnm_struct,
206 | |     mut sample_values: *mut libc::c_uint,
207 | |     mut num_rows: libc::c_uint,
...   |
365 | |     return 1 as libc::c_int;
366 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmin.rs:365:5
    |
365 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/pnmio/pnmin.rs:248:21
    |
248 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmin.rs:261:17
    |
261 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmin.rs:304:21
    |
304 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmin.rs:320:21
    |
320 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmin.rs:343:21
    |
343 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmin.rs:368:1
    |
368 | / pub unsafe extern "C" fn pnm_fget_bytes(
369 | |     mut pnm_ptr: *const pnm_struct,
370 | |     mut sample_bytes: *mut libc::c_uchar,
371 | |     mut sample_size: size_t,
...   |
453 | |     return 1 as libc::c_int;
454 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmin.rs:453:5
    |
453 |     return 1 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmout.rs:73:1
    |
73  | / pub unsafe extern "C" fn pnm_fput_header(
74  | |     mut pnm_ptr: *const pnm_struct,
75  | |     mut stream: *mut FILE,
76  | | ) -> libc::c_int {
...   |
126 | |     };
127 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmout.rs:122:5
    |
122 | /     return if result > 0 as libc::c_int {
123 | |         1 as libc::c_int
124 | |     } else {
125 | |         -(1 as libc::c_int)
126 | |     };
    | |______^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
    |
122 ~     if result > 0 as libc::c_int {
123 +         1 as libc::c_int
124 +     } else {
125 +         -(1 as libc::c_int)
126 +     }
    |

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmout.rs:129:1
    |
129 | / pub unsafe extern "C" fn pnm_fput_values(
130 | |     mut pnm_ptr: *const pnm_struct,
131 | |     mut sample_values: *const libc::c_uint,
132 | |     mut num_rows: libc::c_uint,
...   |
303 | |     return if i == num_samples { 1 as libc::c_int } else { -(1 as libc::c_int) };
304 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmout.rs:303:5
    |
303 |     return if i == num_samples { 1 as libc::c_int } else { -(1 as libc::c_int) };
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `if i == num_samples { 1 as libc::c_int } else { -(1 as libc::c_int) }`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: statement with no effect
   --> src/pnmio/pnmout.rs:171:17
    |
171 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmout.rs:195:17
    |
195 |                 i;
    |                 ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmout.rs:238:21
    |
238 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmout.rs:257:21
    |
257 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: statement with no effect
   --> src/pnmio/pnmout.rs:291:21
    |
291 |                     i;
    |                     ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#no_effect

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmout.rs:306:1
    |
306 | / pub unsafe extern "C" fn pnm_fput_bytes(
307 | |     mut pnm_ptr: *const pnm_struct,
308 | |     mut sample_bytes: *const libc::c_uchar,
309 | |     mut sample_size: size_t,
...   |
380 | |     return if i == num_samples { 1 as libc::c_int } else { -(1 as libc::c_int) };
381 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmout.rs:380:5
    |
380 |     return if i == num_samples { 1 as libc::c_int } else { -(1 as libc::c_int) };
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `if i == num_samples { 1 as libc::c_int } else { -(1 as libc::c_int) }`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
  --> src/pnmio/pnmutil.rs:24:1
   |
24 | / pub unsafe extern "C" fn pnm_is_valid(mut pnm_ptr: *const pnm_struct) -> libc::c_int {
25 | |     let mut format: libc::c_uint = (*pnm_ptr).format;
26 | |     let mut depth: libc::c_uint = (*pnm_ptr).depth;
27 | |     let mut width: libc::c_uint = (*pnm_ptr).width;
...  |
63 | |     };
64 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:39:13
   |
39 | /             return if depth == 1 as libc::c_int as libc::c_uint
40 | |                 && maxval == 1 as libc::c_int as libc::c_uint
41 | |             {
42 | |                 1 as libc::c_int
43 | |             } else {
44 | |                 0 as libc::c_int
45 | |             };
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
   |
39 ~             if depth == 1 as libc::c_int as libc::c_uint
40 +                 && maxval == 1 as libc::c_int as libc::c_uint
41 +             {
42 +                 1 as libc::c_int
43 +             } else {
44 +                 0 as libc::c_int
45 +             }
   |

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:48:13
   |
48 | /             return if depth == 1 as libc::c_int as libc::c_uint {
49 | |                 1 as libc::c_int
50 | |             } else {
51 | |                 0 as libc::c_int
52 | |             };
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
   |
48 ~             if depth == 1 as libc::c_int as libc::c_uint {
49 +                 1 as libc::c_int
50 +             } else {
51 +                 0 as libc::c_int
52 +             }
   |

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:55:13
   |
55 | /             return if depth == 3 as libc::c_int as libc::c_uint {
56 | |                 1 as libc::c_int
57 | |             } else {
58 | |                 0 as libc::c_int
59 | |             };
   | |______________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return
help: remove `return`
   |
55 ~             if depth == 3 as libc::c_int as libc::c_uint {
56 +                 1 as libc::c_int
57 +             } else {
58 +                 0 as libc::c_int
59 +             }
   |

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:61:14
   |
61 |         7 => return 1 as libc::c_int,
   |              ^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:62:14
   |
62 |         _ => return 0 as libc::c_int,
   |              ^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
  --> src/pnmio/pnmutil.rs:66:1
   |
66 | / pub unsafe extern "C" fn pnm_raw_sample_size(mut pnm_ptr: *const pnm_struct) -> size_t {
67 | |     let mut maxval: libc::c_uint = (*pnm_ptr).maxval;
68 | |     if maxval == 0 as libc::c_int as libc::c_uint {
69 | |         *__errno_location() = 22 as libc::c_int;
...  |
82 | |     };
83 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:72:9
   |
72 |         return 1 as libc::c_int as size_t
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `1 as libc::c_int as size_t`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:74:9
   |
74 |         return 2 as libc::c_int as size_t
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `2 as libc::c_int as size_t`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:76:9
   |
76 |         return 3 as libc::c_int as size_t
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `3 as libc::c_int as size_t`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:78:9
   |
78 |         return 4 as libc::c_int as size_t
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `4 as libc::c_int as size_t`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unneeded `return` statement
  --> src/pnmio/pnmutil.rs:81:9
   |
81 |         return 0 as libc::c_int as size_t;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `0 as libc::c_int as size_t`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: unsafe function's docs miss `# Safety` section
   --> src/pnmio/pnmutil.rs:85:1
    |
85  | / pub unsafe extern "C" fn pnm_mem_size(
86  | |     mut pnm_ptr: *const pnm_struct,
87  | |     mut sample_size: size_t,
88  | |     mut num_rows: libc::c_uint,
...   |
105 | |     return sample_size * depth as size_t * width as size_t * num_rows as size_t;
106 | | }
    | |_^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_safety_doc

warning: unneeded `return` statement
   --> src/pnmio/pnmutil.rs:105:5
    |
105 |     return sample_size * depth as size_t * width as size_t * num_rows as size_t;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove `return`: `sample_size * depth as size_t * width as size_t * num_rows as size_t`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_return

warning: path statement with no effect
   --> src/gifread/gifread.rs:450:17
    |
450 |                 ypos;
    |                 ^^^^^
    |
    = note: `#[warn(path_statements)]` on by default

warning: path statement with no effect
   --> src/gifread/gifread.rs:551:9
    |
551 |         i;
    |         ^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:553:9
    |
553 |         j;
    |         ^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:592:13
    |
592 |             i;
    |             ^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:598:13
    |
598 |             i;
    |             ^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:628:17
    |
628 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:634:17
    |
634 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:694:13
    |
694 |             max_code;
    |             ^^^^^^^^^

warning: path statement with no effect
   --> src/gifread/gifread.rs:701:17
    |
701 |                 code_size;
    |                 ^^^^^^^^^^

warning: path statement with no effect
   --> src/minitiff/tiffread.rs:297:9
    |
297 |         i;
    |         ^^

warning: path statement with no effect
   --> src/minitiff/tiffread.rs:625:21
    |
625 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/minitiff/tiffread.rs:810:25
    |
810 |                         i;
    |                         ^^

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:381:13
    |
381 |             i;
    |             ^^

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:424:9
    |
424 |         i;
    |         ^^

warning: unused unary operation that must be used
   --> src/opngreduc/opngreduc.rs:430:5
    |
430 |     *num_palette;
    |     ^^^^^^^^^^^^ the unary operation produces a value
    |
    = note: `#[warn(unused_must_use)]` on by default
help: use `let _ = ...` to ignore the resulting value
    |
430 |     let _ = *num_palette;
    |     +++++++

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:469:13
    |
469 |             i;
    |             ^^

warning: unused unary operation that must be used
   --> src/opngreduc/opngreduc.rs:473:9
    |
473 |         *num_trans;
    |         ^^^^^^^^^^ the unary operation produces a value
    |
help: use `let _ = ...` to ignore the resulting value
    |
473 |         let _ = *num_trans;
    |         +++++++

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:795:17
    |
795 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:873:17
    |
873 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:913:9
    |
913 |         i;
    |         ^^

warning: path statement with no effect
   --> src/opngreduc/opngreduc.rs:916:9
    |
916 |         alpha_row;
    |         ^^^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1010:21
     |
1010 |                     j;
     |                     ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1032:25
     |
1032 |                         j;
     |                         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1048:25
     |
1048 |                         j;
     |                         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1078:25
     |
1078 |                         j;
     |                         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1096:25
     |
1096 |                         j;
     |                         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1103:9
     |
1103 |         i;
     |         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1105:9
     |
1105 |         row_ptr;
     |         ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1306:9
     |
1306 |         k;
     |         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1360:17
     |
1360 |                 k;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1365:13
     |
1365 |             j;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1368:9
     |
1368 |         i;
     |         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1370:9
     |
1370 |         row_ptr;
     |         ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1694:17
     |
1694 |                 src_sample_ptr;
     |                 ^^^^^^^^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1696:17
     |
1696 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1702:13
     |
1702 |             i;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1704:13
     |
1704 |             row_ptr;
     |             ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1736:21
     |
1736 |                     src_sample_ptr;
     |                     ^^^^^^^^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1739:17
     |
1739 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1745:13
     |
1745 |             i;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1747:13
     |
1747 |             row_ptr;
     |             ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:1953:17
     |
1953 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2014:17
     |
2014 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2019:9
     |
2019 |         i;
     |         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2021:9
     |
2021 |         row_ptr;
     |         ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2226:17
     |
2226 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2286:17
     |
2286 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2291:9
     |
2291 |         i;
     |         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2293:9
     |
2293 |         row_ptr;
     |         ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2371:17
     |
2371 |                 j;
     |                 ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2373:17
     |
2373 |                 sample_ptr;
     |                 ^^^^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2376:13
     |
2376 |             i;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2378:13
     |
2378 |             row_ptr;
     |             ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2429:21
     |
2429 |                     j;
     |                     ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2435:17
     |
2435 |                 sample_ptr;
     |                 ^^^^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2438:13
     |
2438 |             i;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2440:13
     |
2440 |             row_ptr;
     |             ^^^^^^^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2576:9
     |
2576 |         k;
     |         ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2717:13
     |
2717 |             k;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2845:13
     |
2845 |             j;
     |             ^^

warning: path statement with no effect
    --> src/opngreduc/opngreduc.rs:2848:9
     |
2848 |         i;
     |         ^^

warning: path statement with no effect
  --> src/optipng/bitset.rs:17:9
   |
17 |         result;
   |         ^^^^^^^

warning: path statement with no effect
  --> src/optipng/bitset.rs:30:9
   |
30 |         i;
   |         ^^

warning: path statement with no effect
  --> src/optipng/bitset.rs:47:9
   |
47 |         i;
   |         ^^

warning: path statement with no effect
  --> src/optipng/bitset.rs:60:9
   |
60 |         i;
   |         ^^

warning: path statement with no effect
  --> src/optipng/bitset.rs:80:9
   |
80 |         i;
   |         ^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:109:13
    |
109 |             ptr;
    |             ^^^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:121:21
    |
121 |                     ptr;
    |                     ^^^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:124:21
    |
124 |                     state;
    |                     ^^^^^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:147:25
    |
147 |                         ptr;
    |                         ^^^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:164:21
    |
164 |                     state;
    |                     ^^^^^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:187:13
    |
187 |             ptr;
    |             ^^^^

warning: path statement with no effect
   --> src/optipng/bitset.rs:198:9
    |
198 |         ptr;
    |         ^^^^

warning: path statement with no effect
   --> src/optipng/ioutil.rs:318:9
    |
318 |         i;
    |         ^^

warning: path statement with no effect
   --> src/optipng/ioutil.rs:333:9
    |
333 |         i;
    |         ^^

warning: path statement with no effect
   --> src/optipng/ioutil.rs:335:9
    |
335 |         new_extname;
    |         ^^^^^^^^^^^^

warning: unused comparison that must be used
   --> src/optipng/ioutil.rs:430:5
    |
430 |     chown(dest_path, sbuf.st_uid, sbuf.st_gid) != 0 as libc::c_int;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the comparison produces a value
    |
help: use `let _ = ...` to ignore the resulting value
    |
430 |     let _ = chown(dest_path, sbuf.st_uid, sbuf.st_gid) != 0 as libc::c_int;
    |     +++++++

warning: path statement with no effect
   --> src/optipng/optipng.rs:283:9
    |
283 |         str;
    |         ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:311:9
    |
311 |         str;
    |         ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:337:13
    |
337 |             end_ptr;
    |             ^^^^^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:341:13
    |
341 |             end_ptr;
    |             ^^^^^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:345:13
    |
345 |             end_ptr;
    |             ^^^^^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:433:13
    |
433 |             result;
    |             ^^^^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:477:9
    |
477 |         i;
    |         ^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:507:9
    |
507 |         ptr;
    |         ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:511:9
    |
511 |         ptr;
    |         ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:519:9
    |
519 |         opt_len;
    |         ^^^^^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:521:9
    |
521 |         ptr;
    |         ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:530:17
    |
530 |                 ptr;
    |                 ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:543:13
    |
543 |             ptr;
    |             ^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:595:13
    |
595 |             file_count;
    |             ^^^^^^^^^^^

warning: path statement with no effect
   --> src/optipng/optipng.rs:974:9
    |
974 |         i;
    |         ^^

warning: path statement with no effect
    --> src/optipng/optipng.rs:1059:17
     |
1059 |                 i;
     |                 ^^

warning: path statement with no effect
    --> src/optipng/optipng.rs:1162:9
     |
1162 |         i;
     |         ^^

warning: path statement with no effect
   --> src/optipng/ratio.rs:106:9
    |
106 |         integer_part;
    |         ^^^^^^^^^^^^^

warning: path statement with no effect
   --> src/optipng/ratio.rs:132:9
    |
132 |         integer_part;
    |         ^^^^^^^^^^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxmem.rs:136:9
    |
136 |         i;
    |         ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:187:9
    |
187 |         ptr;
    |         ^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:189:9
    |
189 |         len;
    |         ^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:239:13
    |
239 |             ptr;
    |             ^^^^

warning: unused unary operation that must be used
   --> src/pngxtern/pngxrbmp.rs:270:9
    |
270 |         *shift_bit;
    |         ^^^^^^^^^^ the unary operation produces a value
    |
help: use `let _ = ...` to ignore the resulting value
    |
270 |         let _ = *shift_bit;
    |         +++++++

warning: unused unary operation that must be used
   --> src/pngxtern/pngxrbmp.rs:281:9
    |
281 |         *sig_bit;
    |         ^^^^^^^^ the unary operation produces a value
    |
help: use `let _ = ...` to ignore the resulting value
    |
281 |         let _ = *sig_bit;
    |         +++++++

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:350:13
    |
350 |             result;
    |             ^^^^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:382:21
    |
382 |                     result;
    |                     ^^^^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:428:25
    |
428 |                         result;
    |                         ^^^^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:433:25
    |
433 |                         b2;
    |                         ^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:519:17
    |
519 |                 x;
    |                 ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:523:13
    |
523 |             y;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:541:9
    |
541 |         i;
    |         ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:579:21
    |
579 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:582:17
    |
582 |                 x;
    |                 ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:587:13
    |
587 |             y;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:624:21
    |
624 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:627:17
    |
627 |                 x;
    |                 ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:632:13
    |
632 |             y;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:730:13
    |
730 |             i;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:744:13
    |
744 |             i;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrbmp.rs:750:9
    |
750 |         i;
    |         ^^

warning: path statement with no effect
    --> src/pngxtern/pngxrbmp.rs:1011:13
     |
1011 |             i;
     |             ^^

warning: path statement with no effect
    --> src/pngxtern/pngxrbmp.rs:1055:13
     |
1055 |             i;
     |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrgif.rs:298:9
    |
298 |         i;
    |         ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrgif.rs:318:9
    |
318 |         i;
    |         ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrgif.rs:423:13
    |
423 |             numImages;
    |             ^^^^^^^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrpnm.rs:362:9
    |
362 |         i;
    |         ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrpnm.rs:433:21
    |
433 |                     j;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrpnm.rs:460:21
    |
460 |                     j;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrpnm.rs:467:13
    |
467 |             i;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrpnm.rs:484:17
    |
484 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrpnm.rs:495:9
    |
495 |         i;
    |         ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:160:9
    |
160 |         num_extra_images;
    |         ^^^^^^^^^^^^^^^^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:282:21
    |
282 |                     j;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:294:21
    |
294 |                     j;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:298:13
    |
298 |             i;
    |             ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:322:21
    |
322 |                     j;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:352:21
    |
352 |                     j;
    |                     ^^

warning: path statement with no effect
   --> src/pngxtern/pngxrtif.rs:357:13
    |
357 |             i;
    |             ^^

warning: path statement with no effect
   --> src/pnmio/pnmin.rs:248:21
    |
248 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pnmio/pnmin.rs:261:17
    |
261 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/pnmio/pnmin.rs:304:21
    |
304 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pnmio/pnmin.rs:320:21
    |
320 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pnmio/pnmin.rs:343:21
    |
343 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pnmio/pnmout.rs:171:17
    |
171 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/pnmio/pnmout.rs:195:17
    |
195 |                 i;
    |                 ^^

warning: path statement with no effect
   --> src/pnmio/pnmout.rs:238:21
    |
238 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pnmio/pnmout.rs:257:21
    |
257 |                     i;
    |                     ^^

warning: path statement with no effect
   --> src/pnmio/pnmout.rs:291:21
    |
291 |                     i;
    |                     ^^

warning: `optipng` (lib) generated 721 warnings
    Finished dev [unoptimized + debuginfo] target(s) in 4.02s
